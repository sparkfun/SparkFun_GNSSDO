{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>This is just a placeholder file for the webpage re-direct. All the content for this section is actually in the <code>introduction.md</code> file.</p>"},{"location":"L5/","title":"Enable the L5 Band","text":"<p>The mosaic-T is L5-capable but, because the GPS L5 service is currently pre-operational and marked as \"unhealthy\", it takes some extra configuration steps to enable L5. The GNSSDO firmware enables L5 reception by default. Here are the configuration steps in case you need to configure L5 manually.</p>"},{"location":"L5/#web-interface","title":"Web Interface","text":"<p>Admin &gt; Expert Control &gt; Control Panel &gt; Navigation &gt; Receiver Operation &gt; Masks - Set \"Discard unhealthy satellites\" to off for both \"Tracking\" and \"PVT\"</p> <p></p> <p>L5 Configuration - Step 1 (PNG).</p> <p>Navigation &gt; Advance User Settings &gt; Tracking &gt; Signal Tracking : Enable GPSL5 signal tracking</p> <p></p> <p>L5 Configuration - Step 2 (PNG).</p> <p>Navigation &gt; Advance User Settings &gt; PVT &gt; Signal Usage - Enable GPSL5 in both \u201cPVT\u201d and \u201cnavigation data decoder\u201d</p> <p></p> <p>L5 Configuration - Step 3 (PNG).</p> <p>Info</p> <p>Make sure to click \u201cOK\u201d at the bottom of each page where you are making changes to update the current configuration, and don\u2019t forget to save it to boot if you want the configuration to persist when you cycle power.</p>"},{"location":"L5/#command-interface","title":"Command Interface","text":"<ul> <li><code>setHealthMask, Tracking, off</code></li> <li><code>setHealthMask, PVT, off</code></li> <li><code>setSignalTracking, +GPSL5</code></li> <li><code>setSignalUsage, +GPSL5, +GPSL5</code></li> </ul>"},{"location":"atomichron/","title":"Fugro AtomiChron<sup>\u00ae</sup>","text":"<p>Fugro AtomiChron<sup>\u00ae</sup> is a global, real-time, precise clock synchronisation and authentication service based on GNSS, for applications that require resilient, accurate and reliable time and frequency. This innovative technology eliminates time drift caused by clocks counting time at slightly different rates and gives users access to extreme frequency stability as well as extreme accurate time references, with levels that surpass high-calibre industrial standard caesium clocks and approaching hydrogen maser performance.</p> <p></p> <p>Fugro AtomiChron overview.</p>"},{"location":"atomichron/#specifications","title":"Specifications","text":"<ul> <li> <p>Timing accuracy: &lt;5 ns UTC (95% of the time)</p> </li> <li> <p>Accuracy: &lt;1 ns to Fugro AtomiChron<sup>\u00ae</sup> timescale (independent of world-wide location)</p> </li> <li> <p>Performance improvement: &gt;10x better than existing high-end GNSS receivers</p> </li> <li> <p>Navigation Message Authentication (NMA) status: per satellite status for all 4 GNSS constellations concurrently</p> </li> </ul>"},{"location":"atomichron/#subscribing-to-fugro-atomichron","title":"Subscribing to Fugro AtomiChron<sup>\u00ae</sup>","text":"<p>AtomiChron<sup>\u00ae</sup> subscriptions are managed by Fugro. We ask that you complete the SparkPNT GNSSDO Fugro AtomiChron<sup>\u00ae</sup> Service Registration Form and the team at Fugro will be in touch. To subscribe, Fugro will need to know the serial number of the mosaic-T inside your GNSSDO. You can find the mosaic-T serial number in several ways:</p> <ul> <li>You can view it on the Fugro AtomiChron tab of mosaic-X5's internal web page. The web page can be viewed over Ethernet or Ethernet-over-USB. Please see the Quick Start Guide for more details.</li> <li>The serial number is also displayed when you open the Software Settings menu in a terminal emulator or serial console.</li> </ul> <p></p> <p>Fugro AtomiChron ID on the mosaic-T web page.</p> <p></p> <p>Fugro AtomiChron ID in the GNSSDO software settings.</p>"},{"location":"atomichron/#performance","title":"Performance","text":"<p>With AtomiChron enabled, the GNSSDO achieves a GPS clock bias of better than 1 ns:</p> <p></p> <p>GPS clock bias with AtomiChron vs GPS Pulse-Per-Second offset (without AtomiChron).</p> <p>With AtomiChron enabled, the Pulse-Per-Second Allan Deviation approaches 1E-14 at 10000 seconds:</p> <p></p> <p>Pulse-Per-Second Allan Deviation with and without AtomiChron.</p>"},{"location":"atomichron/#firmware-configuration","title":"Firmware configuration","text":"<p>Without an AtomiChron subscription, the firmware will use the composite GNSS RxClkBias from PVTGeodetic to discipline the TCXO frequency.</p> <p></p> <p>By default, the Fugro AtomiChron subscription shows as \"expired\".</p> <p>With AtomiChron, the firmware will use the Fugro composite bias reported in FugroTimeOffset to discipline the TCXO frequency. You also have the option to prefer the individual GPS or Galileo clock bias over the Fugro composite bias. Please refer to the ESP32 firmware settings for more details.</p> <p></p> <p>The mosaic-T with an active Fugro AtomiChron subscription.</p>"},{"location":"hardware_assembly/","title":"Hardware Assembly","text":"<p>Warning</p> <p>When assembling the GNSSDO, users should attach any power connections last. While there shouldn't be any issues with hot-swapping peripherals, it is common practice to power electronics as the last step of the assembly process (and the power should be disconnected before removing components).</p> What is in the Box? <p>The SparkPNT GNSSDO comes packaged as a complete kit, with all the accessories you'd need to set it up.</p> <p>  Everything that is included in the SparkPNT GNSSDO kit.  </p> <p>Inside the kit, users will find the SparkPNT GNSSDO, GNSS antenna, USB-C cable, CAT-6 Ethernet cable, and another box containing additional accessories. Inside the accessory box, users will find the SMA to TNC cable, SMA to BNC cable, USB PD wall adapter, a pack of silicone bumpers, and a 32GB SD card.</p>"},{"location":"hardware_assembly/#usb-c-ports","title":"USB-C Ports","text":"<p>The USB ports are utilized to configure the mosaic-T module and ESP32 firmware settings. Additionally, the USB ports can also be used as a power source for the GNSSDO.</p> <p></p> <p>The GNSSDO with USB-C cable being attached.</p> <p>The USB port to the mosaic-T can be used to configure the module through an IP port, for serial communication to stream the GNSS data, and access the SD card as a mass storage device. To connect to the mosaic-T, users only need to plug a USB-C cable into the <code>CONFIG MOSAIC</code> USB port and their computer.</p> <p></p> <p>The GNSSDO with USB-C cable being attached.</p> <p>With the default firmware, the USB port for the ESP32 is used for serial communication to tune the parameters for the TCXO oscillator and the Pulse-Per-Second output. To configure the settings, users only need to plug a USB-C cable into the <code>CONFIG ESP32</code> USB port and their computer, and then open a terminal emulator at 115200 baud.</p> <p>Software Requirements</p> <p>Depending on their computer's operating system, users may need to install USB drivers to interface with the mosaic-T and/or the ESP32. Users may also need to install a terminal emulator for serial communication with the mosaic-T and the ESP32.</p>"},{"location":"hardware_assembly/#gnss-antenna","title":"GNSS Antenna","text":"<p>In order to receive GNSS signals, users will need a compatible antenna. With the parts included in this kit, connect the L1/L2/L5 (tri-band) GNSS antenna to the GNSSDO using the TNC-to-SMA cable.</p> <p></p> <p>Attaching a TNC-SMA cable to the <code>GNSS</code> SMA connector on the GNSSDO.</p> <p></p> <p>Attaching a tri-band GNSS antenna to the TNC-SMA cable.</p> Mounting Location <p>Users should mount their GNSS antenna outside, where it will have a clear, unobstructed view of the sky. Avoid areas with nearby buildings, EMF structures (i.e. radio towers or power lines), and vegetation (i.e. trees). These objects can increase errors due to signal muti-path, interference, and elevated noise plane.</p> <p> The tri-band GPS antenna, mounted outside with an unobstructed view of the sky. </p> Connector Polarity <p>When selecting antennas and/or cables for the GNSSDO, double-check the polarity of the connection.</p>"},{"location":"hardware_assembly/#ethernet-jack","title":"Ethernet Jack","text":"<p>There is a single ethernet jack on the GNSSDO, which can be used to provide network access to the mosaic-T module. It supports power over ethernet (PoE) to power the device. To provide network access, users should connect the GNSSDO from the <code>ETHERNET (PoE)</code> jack to their local network with the (CAT-6) ethernet cable provided in the kit.</p> <ul> <li>To power the device, a PoE network switch or PoE injector should be installed in between the network connection to the GNSSDO.</li> </ul> <p></p> <p>The GNSSDO with ethernet cable being attached to the <code>ETHERNET (PoE)</code> jack.</p> Configuration: mosaic-T Settings <p>Users can configure the mosaic-T module through the network connection.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the CONFIG MOSAIC USB-C port and open 192.168.3.1 on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (0.0.0.0), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (192.168.3.***), please change its settings so it uses a different subnet.</p>"},{"location":"hardware_assembly/#10mhz-signal","title":"10MHz Signal","text":"<p>For timing applications, we have broken out the TCXO 10MHz signal to an SMA connector. In our kit, users will find an SMA to BNC adapter cable that they can use to hookup this signal to their equipment. If necessary, users can add an SMA extension cable to reach their equipment.</p> <p></p> <p>Attaching a cable to the <code>10MHz</code> SMA connector on the GNSSDO.</p>"},{"location":"hardware_assembly/#sd-card-slot","title":"SD Card Slot","text":"<p>A \u00b5SD card slot is available for users to log and store data, locally on the board. Users will need to insert a compatible SD card and configure the mosaic-T module for data logging.</p> <p></p> <p>Inserting an SD card into the GNSSDO.</p> <p>SD Card Compatibility</p> <p>The mosaic-T supports \u00b5SD cards with a FAT32 file system (i.e. only cards up to 32GB in size).</p> Initial Configuration <p>Before logging can take place, it is necessary to define a \"logging stream\" using the Logging page or RxTools. Streams can contain NMEA or SBF (Septentrio Binary Format) data; SBF can contain RTCM and/or RINEX.</p> <p> microSD logging stream configuration. </p> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> Button Operation <p>There are multiple ways to configure and enable data logging to an SD card. However, the simplest method is with the LOG button. Once the stream is defined,</p> <ul> <li>Pressing the LOG button (&lt; 5s) toggles data logging to the SD card on and off.</li> <li>Holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> </ul> <p>For more information, please reference the SD Card Slot section.</p>"},{"location":"hardware_assembly/#io-terminals","title":"IO Terminals","text":"<p>Users can easily attach accessories to the GNSSDO by wiring them into the terminal blocks on the back of the enclosure.</p> <p></p> <p>Connecting a wire to the terminal block.</p> Multiple Connections <p>For multiple connections or wiring harnesses, users can disconnect the terminal block from its socket on the GNSSDO.</p> <p> Components of the terminal block. </p> <p>Users can wiggle or use a soft/rigid object to carefully pry the terminal block off from its connector. In the picture below, a plastic name tag (~1.5mm thick) is used to carefully pry the terminal block up. We have also found the edge of a PCB ruler works great too.</p> <p> Using a soft/rigid object to carefully pry the terminal block free from its socket. </p> <p>Once wired up, users can simply push the terminal block back into its socket.</p> <p> Connecting a wire to the terminal block. </p> <p> Attaching the terminal block to its socket on the GNSSDO. </p> <p>Warning</p> <p>To avoid shorts or damaging the GNSSDO, verify the wiring with the labels on the back of the enclosure.</p>"},{"location":"hardware_overview/","title":"Hardware Overview","text":"<p>Read Before Handling PCB!</p> <p>ESD Sensitivity</p> <p>The mosaic-T module is sensitive to ESD. Use a proper grounding system to make sure that the working surface and the components are at the same electric potential.</p> ESD Precaution <p>As recommended by the manufacturer, we highly encourage users to take the necessary precautions to avoid damaging their module.</p> <ul> <li>The GNSSDO features ESD protection on the USB-C connectors, ethernet jack, I/O terminals and antenna connections.</li> </ul> <p> </p> <ul> <li> <p> <p>iFixit Anti-Static Wrist Strap TOL-25572</p> <p>ESP32 Firmware</p> <p>We have intentionally kept the ESP32 firmware as simple as possible - it only disciplines the TCXO oscillator and controls the OLED display. The SparkFun RTK Firmware or SparkFun RTK Everywhere firmware will not run on this product. The intention is that you can easily develop your own firmware for the GNSSDO if the SparkFun firmware does not meet your needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>You can of course modify the hardware too, should you want to. The design is completely open-source.</p>"},{"location":"hardware_overview/#hardware-overview","title":"Hardware Overview","text":"<p>In this section, we walk you through the hardware design, interfaces, I/O connections, power options and more.</p>"},{"location":"hardware_overview/#schematic","title":"Schematic","text":"<p>Users can download the full schematic for the GNSSDO in <code>*.pdf</code> format.</p>"},{"location":"hardware_overview/#dimensions","title":"Dimensions","text":"Metal Enclosure Printed Circuit Board Antenna <p>Details about the aluminum enclosure can be found on the Metal Enclosure - Custom Aluminum Extrusion (6in. x 4in. PCB) product page.</p> <p> Dimensions (PDF) of the GNSSDO aluminum enclosure and the front/rear panels, in millimeters.  </p> <p>The circuit board dimensions are illustrated in the drawing below; the listed measurements are in inches.</p> <p> Dimensions (PNG) of the GNSSDO PCB, in inches.  </p> Need Dimensions? <p>For the board dimensions, users can download the KiCad files for this board. These files can be opened in KiCad and measurements can be made with the measuring tool.</p> <p> KiCad - Free Download!</p> <p>KiCad is free, open-source CAD program for electronics. Click on the button below to download their software. (*Users can find out more information about KiCad from their website.)</p> <p> Download KiCad primary logo </p>  Measuring Tool <p>This video demonstrates how to utilize the dimensions tool in KiCad, to include additional measurements:</p> <p> </p> <p>The dimensions and technical specifications of the GNSS antenna can be found on the GNSS Multi-Band L1/L2/L5 Surveying Antenna - TNC (SPK6618H) product page.</p> <p>  Dimensions of the included GNSS antenna, in mm. Source: SPK6618H Datasheet (PDF) </p>"},{"location":"hardware_overview/#power-options","title":"Power Options","text":"<p>The mosaic-T and the ESP32 both required 3.3V power. To simplify the power circuitry, the four power sources are combined into a common 5V rail which then feeds individual 3.3V regulators for the mosaic-T and the ESP32.</p> <p></p> <p>Power connections on the GNSSDO PCB.</p> <p>The GNSSDO can be powered individually or in combination, with any of the following:</p> <ul> <li><code>USB Ports</code> - 5V; delivered via the <code>MOSAIC CONFIG</code> and/or <code>ESP32 CONFIG</code> USB-C connectors.</li> <li><code>Power-over-Ethernet</code> - Range: 36 to 57V; delivered via the <code>MOSAIC ETHERNET</code> RJ45 MagJack connector.</li> <li><code>External DC Power</code> - Range: 9 to 36V; delivered via the <code>VIN+</code> and <code>VIN-</code> screw cage terminals.</li> </ul> Measure Current Draw <p>If you want to measure the board's current draw, you can open the <code>MEAS</code> jumper and measure the current via a pair of breakout pads (see the Jumpers section).</p> Protection Components <p>Diodes are used to combine and protect the power sources from each other. Also, a 2A resettable fuse (green) provides additional protection.</p> <p>Info</p> <p>For more details, users can reference the schematic and the datasheets of the individual components on the board.</p>  USB-C Connectors Power-over-Ethernet (PoE) External DC Power (VIN) <p>The mosaic-T and ESP32 both have USB-C connections. These USB ports can be used to power the GNSSDO during the initial configuration when the mosaic-T or ESP32 are connected to a computer.</p> <p> USB-C connectors on the GNSSDO. </p> <p> The USB-C device connections on the GNSSDO PCB. </p> <p>CH340 Driver</p> <p>The CH340 allows the ESP32-WROVER to communicate with a computer/host device through the USB-C connection. This allows the ESP32 to show up as a device on the serial (or COM) port of the computer. Users will need to install the latest drivers for the computer to recognize the CH340 (see USB Driver section).</p> <p>The mosaic-T Ethernet port supports Power-over-Ethernet (PoE), allowing the GNSSDO to be powered by the network. This is very useful when the GNSSDO is mounted remotely - perhaps in a weatherproof box up on the roof. Data and power can be delivered through a single cable, avoiding the need for a separate power connection.</p> <p> The Power-over-Ethernet (PoE) jack on the GNSSDO. </p> <p> The PoE power input circuit on the GNSSDO PCB. </p> <p>The GNSSDO includes a fully-isolated DC-DC converter, for applications where you may want to power the unit from a vehicle. The DC-DC converter accepts DC voltages between 9V and 36V, regulating this down to 5V. The converter is fully isolated to 1.5kV and operates with ~90% efficiency.</p> <p> The <code>VIN+</code> and <code>VIN-</code> screw terminal pins for the external DC power input. </p> <p> The DC-DC power converter and external power inputs on the GNSSDO PCB. </p> Vehicle Power <p>For 12V or 24V vehicle power:</p> <ul> <li>Connect 12V or 24V to the <code>VIN+</code> screw cage terminal</li> <li>Connect 0V (chassis) to the <code>VIN-</code> screw cage terminal</li> </ul> <p>Power Source</p> <p>Additionally, make sure that the power source from the vehicle is not directly tied to the vehicle's battery, <code>Always On</code>, or accessory circuits. Otherwise, users will risk draining the battery while the engine is off.</p> <p>We recommend locating the ignition on or switched power circuit, which is only powered when the key is in the <code>On</code> position and the engine is running.</p> <p>Note</p> <p>The <code>On</code> position, is where a key normally rests after the engine is started. However, users can still move the key from the <code>Off</code> position and into the <code>On</code> position without starting the engine. In this case, the alternator is not running and keeping the battery charged.</p> <p>Modern eco-efficient vehicles may automatically shut down the engine if the vehicle is idling too long. Therefore, cutting off the vehicle's alternator that keeps the battery charged. Luckily, most vehicles with this automatic start/stop technology will monitor the battery's voltage and restart the engine when required. With this in mind, users may want to initially monitor their battery voltage, in case their vehicle isn't \"so smart\" .</p> Ground Loop <p>If desired, users can link <code>VIN-</code> to the adjacent <code>GND</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p>"},{"location":"hardware_overview/#septentrio-logo-mosaic-t","title":"Septentrio logo mosaic-T","text":"<p>The heart of our product is of course the mosaic-T GNSS module from Septentrio. It is a very sophisticated chip with multiple interfaces: UARTS, USB and Ethernet. The <code>GPIO1</code> and <code>GPIO2</code> pins are available as 0.1\" test points should you need access to them.</p> <p></p> <p>The Septentrio mosaic-T GNSS module.</p>"},{"location":"hardware_overview/#espressif-logo-esp32-wrover","title":"Espressif logo ESP32-WROVER","text":"<p>The ESP32 processor is there to control (discipline) the 10 MHz TCXO oscillator and the OLED display. We have deliberately kept the ESP32 firmware as simple as possible. The intention is that you can write your own firmware using the Espressif IDF or Arduino IDE if you need to.</p> <p></p> <p>The Espressif ESP32-WROVER processor.</p> <p>Think of the ESP32 as a co-processor, or riding shotgun... The mosaic-T <code>COM1</code>, <code>COM3</code> and <code>COM4</code> UARTs are linked to the ESP32, allowing the two to communicate directly without needing an Ethernet link. In our firmware, the PVTGeodetic and ReceiverTime messages are output on COM1. The ESP32 displays some of their content on the I<sup>2</sup>C OLED display, and then uses the content to discipline the TCXO oscillator. See Oscillator for more details.</p> ESP32 Firmware <p>We have intentionally kept the ESP32 firmware as simple as possible. The intention is that users can easily develop their, own firmware for the GNSSDO using the Espressif ESP IDF or the Arduino IDE if the SparkFun firmware does not meet their needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>The ESP32-WROVER-IE antenna is not connected. If you write your own firmware and want to use BT/WiFi connectivity, you will need to attach your own antenna to the u.FL connector on the ESP32 module.</p>"},{"location":"hardware_overview/#ethernet-phy-interface","title":"Ethernet PHY Interface","text":"<p>The mosaic-T has a KSZ8041NLI Ethernet PHY interface, connected using a Reduced Media-Independent Interface (RMII).</p> <p></p> <p>Ethernet (PoE) conection.</p> <p></p> <p>The Ethernet PHY on the GNSSDO PCB.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the CONFIG MOSAIC USB-C port and open 192.168.3.1 on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (0.0.0.0), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (192.168.3.***), please change its settings so it uses a different subnet.</p>"},{"location":"hardware_overview/#usb-c-connectors","title":"USB-C Connectors","text":"<p>The mosaic-T and ESP32 both have USB-C connections. The MOSAIC USB port is high-speed and connected to the T through a balancing transformer. The ESP32 USB port is connected through a CH340 USB-UART IC.</p> <p></p> <p>USB-C connections: mosaic-T (left) and ESP32 (right).</p> <p></p> <p>The USB-C data connections on the GNSSDO PCB.</p> <p>Info</p> <p>The GNSSDO can draw power from either or both USB ports, in addition to Power-over-Ethernet and the DC-DC external input described above.</p> <p>CH340 Driver</p> <p>The CH340 allows the ESP32-WROVER to communicate with a computer/host device through the USB-C connection. This allows the ESP32 to show up as a device on the serial (or COM) port of the computer. Users will need to install the latest drivers for the computer to recognize the CH340 (see USB Driver section).</p>"},{"location":"hardware_overview/#sd-socket","title":"\u00b5SD Socket","text":"<p>The \u00b5SD socket is connected directly to the mosaic-T via a one-bit SDIO interface for fast data logging. The mosaic-T supports \u00b5SD cards with a FAT32 file system (i.e. only cards up to 32GB in size).</p> <p></p> <p>\u00b5SD slot and LOG button.</p> <p></p> <p>\u00b5SD socket and Log button on the GNSSDO PCB.</p> Operation Instructions <p>Initial Configuration</p> <p>Before logging can take place, it is necessary to define a \"logging stream\" using the Logging page or RxTools. Streams can contain NMEA or SBF (Septentrio Binary Format) data; SBF can contain RTCM and/or RINEX.</p> <p> \u00b5SD logging stream configuration. </p> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> <p>Once the stream is defined, users can control the data logging operation through the LOG button.</p> <ul> <li>A short press of the LOG button (&lt; 5s) toggles data logging to the SD card on and off.<ul> <li>The red <code>LOG</code> LED will flash while logging is taking place.</li> </ul> </li> <li>A long press, holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> </ul>"},{"location":"hardware_overview/#sma-connectors","title":"SMA Connectors","text":"<p>The GNSSDO has robust SMA connectors for the mosaic-T GNSS antenna, Pulse-Per-Second output, 10 MHz input / output, and the Event A input.</p> <p></p> <p>The SMA connections on the SparkPNT GNSSDO.</p> <p>Connector Polarity</p> <p>All these SMA connectors have a standard polarity. When selecting antennas and/or cables for the GNSSDO, double-check the polarity for the connections and cables.</p> <code>EVENTA</code><code>10MHz</code><code>PPS</code><code>GNSS</code> <p> The SMA connector for the EventA input. </p> <p>The Event A SMA connector is standard polarity. The voltage is adjustable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The output   can also be configured for 50 Ohm via the jumper links (see the Jumpers section).</p> <p> The connection for the EventA input. </p> <p> The SMA connector for the 10 MHz output / input. </p> <p>The 10 MHz SMA connector is standard polarity. The voltage is adjustable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The output    can also be configured for 50 Ohm via the jumper links (see the Jumpers section). Output / Input is selected via the small slide switch adjacent to the connector. When configured for input: the input   impedance is 50\u03a9; the detection level is -14dBm; the max supported input level is +12dBm.</p> <p> The connection for the 10 MHz output / input. </p> <p> The SMA connector for the Pulse-Per-Second output. </p> <p>The Pulse-Per-Second SMA connector is standard polarity. The voltage is selectable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The     output is DC-coupled. The output can be configured for 50 Ohm output via the jumper links (see the Jumpers section).</p> <p> The connection for the Pulse-Per-Second output. </p> <p> The SMA connector for the GNSS antenna. </p> <p>The mosaic-T GNSS SMA connector is standard polarity and provides 3.3V power for an active antenna.</p> <p> The connection for the GNSS antenna to the mosaic-T. </p>"},{"location":"hardware_overview/#inputoutput-terminals","title":"Input/Output Terminals","text":"<p>The GNSSDO is equipped with a 10-way 3.5mm screw cage terminal connector.</p> <p></p> <p>I/O Screw Terminal Connections.</p> <p></p> <p>I/O Screw Terminal Connections on the GNSSDO PCB.</p> <p>These terminals are described in the tabs below. For more information on the I/O terminals, you can refer to the schematic.</p> External PowerGNDmosaic-T <code>COM2</code>CTSEVENT BSCL2 &amp; SDA2 <p>The <code>VIN+</code> and <code>VIN-</code> terminals allow the GNSSDO to be powered by an external DC power source - typically a 12V / 24V vehicle battery.</p> <p> Terminal Function VIN+ External voltage: Min: 9V; Max: 36V VIN- Ground / Chassis / 0V <p></p> <p>Info</p> <p>The DC-DC converter in the GNSSDO provides 1.5kV isolation between <code>VIN+</code>/<code>VIN-</code> and 5V/GND. There is no direct electrical connection between <code>VIN-</code> and <code>GND</code>.</p> <p>Ground Loop</p> <p>If desired, users can link <code>VIN-</code> to the adjacent <code>GND</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p> <p>Ground / 0V or logic-low reference.</p> <p>Info</p> <p>The DC-DC converter in the GNSSDO provides 1.5kV isolation between <code>VIN+</code>/<code>VIN-</code> and 5V/GND. There is no direct electrical connection between <code>GND</code> and <code>VIN-</code>.</p> <p>Ground Loop</p> <p>If desired, users can link <code>GND</code> to the adjacent <code>VIN-</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p> <p>The mosaic-T UART COM2 connections are connected as follows:</p> <p> Terminal Function Notes RX COM2 UART Receive - Input TX COM2 UART Transmit - Output RTS COM2 UART Request To Send - Output The module drives this pin low when ready to receive data CTS COM2 UART Clear To Send - Input Must be driven low when ready to receive data from the module <p></p> <p>Tip</p> <p>The COM2 I/O voltage is set by the VCCIO voltage selection switch.</p> <p>Tip</p> <p>The RX and CTS inputs have weak (100K) pull-ups to VCCIO.</p> <p>Tip</p> <p>The CTS terminal can be configured as a VCCIO power output by soldering the jumper closed on the PCB.</p> <p>The CTS terminal can be configured as a VCCIO power output by soldering the jumper closed on the PCB.</p> <p> VCCIO jumper. </p> <p>Tip</p> <p>Soldering the jumper closed will place the mosaic-T COM2 CTS into the high (not ready) state. Flow control (hardware handshaking) is not possible when the jumper is closed. Flow control is disabled by default. If needed, flow control can be (re)disabled through the web interface or by sending (e.g) scs, COM2, baud115200, bits8, No, bit1, none</p> <p>The VCCIO voltage can be set to 3.3V or 5V via the small internal slide switch highlighted below:</p> <p> VCCIO voltage selection switch. </p> <p>The <code>CTS</code> terminal can then be used as a power output or logic-high references. Likewise, the <code>GND</code> terminal can be used for power return or as logic-low references.</p> <p> Terminal Function CTS 3.3V or 5V power output or logic-high reference GND Ground / 0V or logic-low reference <p></p> <p>Info</p> <p>The default position of the <code>VCCIO</code> switch is 3.3V.</p> <p>Tip</p> <p>The <code>CTS</code> and <code>GND</code> pins could be used to power (e.g.) a LoRa module. When VCCIO is 3.3V, we recommend limiting the current draw from <code>VCCIO</code> to 200mA maximum. The upstream 3.3V regulator is rated at 600mA but it also provides power for the mosaic-T and Ethernet PHY. When VCCIO is set to 5V, the current draw can be higher - the suggested maximum is 500mA.</p> <p>The mosaic-T EVENTB input can be used to mark or timestamp external events:</p> <p> Terminal Function EVENTB Event B : Input <p></p> <p>Tip</p> <p>The EVENT B voltage level is set by the VCCIO voltage selection switch.</p> <p>Tip</p> <p>The EVENT B input is pulled low internally. Pull up to VCCIO to trigger an event.</p> <p>Tip</p> <p>An easy way to observe the events is with RxTools RxControl Expert Console (under Tools)  ExEvent tab:</p> <p> Capturing external events from EVENTA and EVENTB. </p> <p>The SCL2 and SDA2 screw terminals provide access to the TCXO I<sup>2</sup>C bus, allowing the user to connect an external configurable TCXO if desired. The I<sup>2</sup>C voltage level is set by the VCCIO switch: 3.3V or 5V. The provided firmware supports the SiTime SiT5358; the user will need to modify the firmware to support additional osciillators.</p> <p> Terminal Function SCL2 I2C Clock : Bidirectional SDA2 I2C Data : Bidirectional <p></p> <p>Tip</p> <p>The I<sup>2</sup>C voltage is set by the VCCIO voltage selection switch.</p>"},{"location":"hardware_overview/#switches","title":"Switches","text":"<p>There are two miniature slide switches on the GNSSDO PCB:</p> <p></p> <p>Switches</p> <code>VCCIO</code><code>10MHz</code> <p>This switch sets the voltage of the Input Output Terminals (COM2 UART, Event B, SCL2 &amp; SDA2)</p> <ul> <li>The I/O voltage can be set to 3.3V (default) or 5V.</li> </ul> <p>This switch changes the function of the 10MHz SMA connector</p> <ul> <li>When set to <code>OUT</code> (default):<ul> <li>The SMA connector will output a 10MHz \"CMOS\" disciplined clock signal</li> <li>The signal voltage is set by the VCCIO voltage selection switch</li> </ul> </li> <li>When set to <code>IN</code>:<ul> <li>The user can apply a clock signal from an external 10MHz oscillator</li> <li>The input impedance is 50\u03a9</li> <li>The detection level is -14dBm</li> <li>The max supported input level is +12dBm</li> </ul> </li> </ul>"},{"location":"hardware_overview/#status-leds","title":"Status LEDs","text":"<p>There are six status LEDs on the GNSSDO:</p> <ul> <li><code>PWR</code> - Power (Red)<ul> <li>Illuminates when power is applied</li> </ul> </li> <li><code>LOG</code> - \u00b5SD Logging (Red)<ul> <li>Solid Red - \u00b5SD card is mounted</li> <li>Blinking Red - Data is being logged</li> <li>Off - \u00b5SD is dismounted or not present</li> </ul> </li> <li><code>LOCK</code> - Oscillator Lock (Green)<ul> <li>The TCXO is locked to the correct frequency - as reported by PVTGeodetic RxClkBias</li> <li>Connected to ESP32 GPIO pin 33</li> </ul> </li> <li><code>PVT</code> - Position Velocity Time (Green)<ul> <li>Solid Green - The mosaic-T has valid Position, Velocity and Time</li> <li>Off - Satellite signal not present or acquired</li> </ul> </li> <li><code>ERROR</code> - GNSS Error (Yellow)<ul> <li>The GNSS Error status - as reported by PVTGeodetic Error</li> <li>Connected to ESP32 GPIO pin 32</li> </ul> </li> <li><code>RTK</code> - Real-Time Kinematic (Yellow)<ul> <li>This LED has little or no functionality on the GNSSDO as the mosaic-T uses PPP, not RTK</li> <li>Internally, it is connected to the mosaic-T GPLED2 pin</li> <li>It can be configured for (e.g.) TRACKLED if desired</li> </ul> </li> </ul> <p></p> <p>The status indicator LEDs on the GNSSDO.</p> <p></p> <p>The status indicator LEDs on the GNSSDO PCB.</p>"},{"location":"hardware_overview/#oled-display","title":"OLED Display","text":"<p>The GNSSDO has a 128x64 pixel OLED display, controlled by the ESP32 via I<sup>2</sup>C. After some initial diagnostic messages, the display will show position, time and other data from the mosaic-T PVTGeodetic, ReceiverTime and IPStatus SBF blocks.</p> <p></p> <p>The OLED display on the GNSSDO.</p> <p></p> <p>OLED display (PNG) for the GNSSDO.</p> <ul> <li>Date &amp; Time : YYYY/MM/DD HH:MM:SS from ReceiverTime</li> <li>IP        : nnn.nnn.nnn.nnn from IPStatus IPAddress<ul> <li>When TCP console access is enabled, the TCP port number is also displayed.</li> </ul> </li> <li>Lat       : Latitude from PVTGeodetic (Degrees)</li> <li>Long      : Longitude from PVTGeodetic (Degrees)</li> <li>Sys       : TimeSystem from PVTGeodetic<ul> <li>GPS, Galileo, GLONASS, BeiDou, QZSS, Fugro</li> </ul> </li> <li>Error     : Error from PVTGeodetic<ul> <li>None, Measurements, Ephemerides, DOP, Residuals, Convergence, Outliers, Export, Differential, Base, Ambiguities</li> </ul> </li> <li>Fine      : FINETIME from ReceiverTime<ul> <li>False, True</li> </ul> </li> <li>PPS      : Indicates if the Pulse-Per-Second signal is being generated<ul> <li>Off, On</li> <li>PPS is only generated once the RxClkBias has achieved the required accuracy</li> </ul> </li> <li>Bias      : RxClkBias from PVTGeodetic (ms/us/ns)</li> </ul> <p>The display is updated on arrival of the ReceiverTime message. You may see a small lag between the display and the actual time system time, but it will be minimal.</p>"},{"location":"hardware_overview/#buttons","title":"Buttons","text":"<p>There are three buttons on the GNSSDO: RESET, BOOT, and LOG.</p> <p></p> <p>Buttons on the GNSSDO.</p> <p></p> <p>Buttons on the GNSSDO PCB.</p> Septentrio logo mosaic-T: Data LoggingEspressif logo ESP32: ResetEspressif logo ESP32: Boot Control <p>Once a logging stream is defined, users can control the data logging operation through the LOG button.</p> <ul> <li>A short press of the LOG button (&lt; 5s) toggles data logging to the SD card on and off.<ul> <li>The red <code>LOG</code> LED will flash while logging is taking place.</li> </ul> </li> <li>Holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> <li>The SD card must be mounted to allow data logging by the mosaic-T</li> <li>When the SD card is unmounted, it is accessible as a mass storage device via the CONFIG MOSAIC USB-C interface<ul> <li>Files can be read and written over USB while the SD card is unmounted</li> </ul> </li> <li>You can enter commands using the <code>Admin \\ Expert Console</code> to:<ul> <li>Change what happens when the disk is full</li> <li>Change how the files are named</li> <li>Change the mounting / unmounting of the disk</li> </ul> </li> <li>Consult section 3.2.20 of the Firmware Reference Guide for more details</li> </ul> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> <p>The RESET button allows users to reset the firmware running on the ESP32-WROVER module without disconnecting the power.</p> <p>The BOOT button can be used to force the ESP32 into the serial bootloader. Holding down the BOOT button, while connecting the GNSSDO to a computer through its USB-C connector or resetting the board will cause it to enter the Firmware Download mode. The ESP32 will remain in this mode until it power cycles (happens automatically after uploading new firmware) or the RESET button is pressed.</p> <ol> <li>Hold the BOOT button down.</li> <li>Reset the MCU.<ul> <li>While unpowered, connect the board to a computer through the USB-C connection.</li> <li>While powered, press the RESET button.</li> </ul> </li> <li>Release the BOOT button.</li> <li>After programming is completed, reboot the MCU.<ul> <li>Press the RESET button.</li> <li>Power cycle the board.</li> </ul> </li> </ol>"},{"location":"hardware_overview/#jumpers","title":"Jumpers","text":"Never modified a jumper before? <p>Check out our Jumper Pads and PCB Traces tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <p>There are several jumpers on the GNSSDO PCB which can be used to (e.g.) disable the LEDs or allow measurement of the board's current draw.</p> <p></p> <p>The jumpers on the top of the GNSSDO PCB.</p> <p></p> <p>The jumpers on the bottom of the GNSSDO PCB.</p> TopBottom <ul> <li>POE - This jumper can be used to disconnect the Power-over-Ethernet (PoE) module 50\u03a9 load.<ul> <li>The PoE module has a minimum load of 200mA. We included the 50\u03a9 load to ensure this is met. If you can ensure this by other means, open this jumper to disconnect the load.</li> </ul> </li> <li>Voltage Configuration: A-V<ul> <li>The jumper links A-V can be used to configure the voltage levels and impedance of the SMA connections. Please refer to the schematic for additional information.</li> <li>To configure the 10MHz output for 50 Ohms: open jumper A and close jumper D.<ul> <li>Jumper A is closed by default. Open it to select 50 Ohms for the 10MHz output.</li> <li>Jumper B is closed by default. It could be used to isolate the gate driving the 10MHz output. Advanced use only.</li> <li>Jumper C is open by default. It could be used to select the alternate gate for the 10MHz CMOS output. Advanced use only.</li> <li>Jumper D is open by default. Close it to select 50 Ohms for the 10MHz output.</li> </ul> </li> <li>To configure the PPS output for 50 Ohms: open jumper E and close jumper H.<ul> <li>Jumper E is closed by default. Open it to select 50 Ohms for the PPS output.</li> <li>Jumper F is closed by default. It could be used to isolate the gate driving the PPS output. Advanced use only.</li> <li>Jumper G is open by default. It could be used to select the alternate gate for the PPS CMOS output. Advanced use only.</li> <li>Jumper H is open by default. Close it to select 50 Ohms for the PPS output.</li> </ul> </li> <li>Jumpers J,K,L configure the voltage of the Event A input.<ul> <li>Jumper J is closed by default. It selects VCCIO as the Event A input voltage.</li> <li>Jumper K is open by default. Open jumper J and close jumper K to configure Event A for 2.8V.</li> <li>Jumper L is open by default. Open jumper J and close jumper L to configure Event A for 1.8V.</li> </ul> </li> <li>Jumpers M,N,P configure the voltage of the PPS output.<ul> <li>Jumper M is closed by default. It selects VCCIO as the PPS output voltage.</li> <li>Jumper N is open by default. Open jumper M and close jumper N to configure PPS for 2.8V.</li> <li>Jumper P is open by default. Open jumper M and close jumper P to configure PPS for 1.8V.</li> </ul> </li> <li>Jumpers R,S,T configure the voltage of the 10MHz output.<ul> <li>Jumper R is closed by default. It selects VCCIO as the 10MHz output voltage.</li> <li>Jumper S is open by default. Open jumper R and close jumper S to configure 10MHz for 2.8V output.</li> <li>Jumper T is open by default. Open jumper R and close jumper T to configure 10MHz for 1.8V output.</li> </ul> </li> <li>Jumper U can be used to isolate the on-board 10MHz TCXO.<ul> <li>Open jumper U when connecting an alternate TCXO via the breakout pads on the PCB. Advanced use only.</li> </ul> </li> <li>To configure the Event A input for 50 Ohms: close jumper V.<ul> <li>Jumper V is open by default. Close it to select 50 Ohms for the Event A input.</li> </ul> </li> </ul> </li> </ul> <ul> <li>LED Jumpers<ul> <li>LINK - open this jumper to disable the Ethernet Link LED.</li> <li>SPEED - open this jumper to disable the Ethernet Speed LED.</li> <li>RTK - open this jumper to disable the mosaic-T Real-Time Kinetic LED.</li> <li>PVT - open this jumper to disable the mosaic-T Position Velocity Time LED.</li> <li>LOG - open this jumper to disable the mosaic-T Log LED.</li> <li>ERROR - open this jumper to disable the GNSS error LED.</li> <li>LOCK - open this jumper to disable the TCXO lock LED.</li> <li>PWR - open this jumper to disable the Power LED.</li> </ul> </li> <li>Button Jumpers<ul> <li>BOOT - open this jumper to disconnect the ESP32 BOOT pushbutton.</li> <li>RESET - open this jumper to disconnect the ESP32 RESET pushbutton.</li> </ul> </li> <li>SHLD (x2) - open these jumpers to isolate the USB-C connector shield from GND.</li> <li>I<sup>2</sup>C (x2) - open these dual jumpers to disconnect the pull-ups for the I<sup>2</sup>C buses.<ul> <li>Note: there are separate jumpers for the two I<sup>2</sup>C buses: OLED (Qwiic); and the SiTime TCXO.</li> </ul> </li> <li>VIN+ and VIN-<ul> <li>Open these jumpers if you wish to isolate (disconnect) the external DC power terminals. The breakout pads can then be used to feed in power from an alternate source.</li> </ul> </li> <li>POE+ and POE-<ul> <li>Open these jumpers if you wish to isolate (disconnect) the Power-over-Ethernet pins on the MOSAIC Ethernet magjack. The breakout pads can then be used to feed in power from an alternate source.</li> </ul> </li> <li>VCCIO<ul> <li>The VCCIO jumper can be soldered closed to connect the CTS screw terminal to VCCIO. CTS can then be used as a power output. The voltage is set by the VCCIO slide switch.</li> </ul> </li> <li>MEAS<ul> <li>Open the MEAS jumper if you wish to measure the total current drawn by the GNSSDO, or (e.g.) wish to add an ON/OFF switch. The breakout pads can then be used to attach a multimeter or a mechanical power switch.</li> <li>MEAS is upstream of the two 3.3V regulators and downstream of the four power source combination and protection diodes.</li> </ul> </li> </ul>"},{"location":"introduction/","title":"Introduction","text":"<ul> <li> <p> GNSSDO SKU: GPS-26289 <p> </p> <p> </p> <p> Purchase from SparkFun  </p> <li> <p>Designed and manufactured in Boulder, Colorado, USA, the SparkPNT GNSSDO is the perfect solution for your high-precision timing needs. Based around the multi-constellation, multi-frequency, L5-ready mosaic-T from Septentrio, this is our most accurate GNSS timing product to date. It features a SiTime SiT5358 disciplined 10MHz Digitally-Controlled Temperature-Controlled Crystal Oscillator (DCTCXO) providing excellent clock accuracy, stability and holdover. The mosaic-T also has built-in on-module support for the Fugro AtomiChron L-band timing service.</p> <p>Under the hood, the GNSSDO is based on the mosaic-T GNSS module from Septentrio, plus the Espressif ESP32-WROVER processor (16MB flash, 8MB PSRAM). The mosaic-T has USB-C connectivity (with Ethernet-over-USB), multiple UARTs and supports full Ethernet connectivity. You can connect the mosaic-T directly to your Ethernet network - our product supports Power-over-Ethernet too. The ESP32 rides shotgun, disciplining the DCTCXO and controlling the OLED display. The GNSSDO has multiple power options including USB-C, PoE and 9V-36V DC, making it easy to connect it to a battery-backed supply. Robust SMA connections and screw cage terminals provide access to the Pulse-Per-Second and 10MHz clock signals.</p> Features <ul> <li>Septentrio mosaic-T multi-constellation, multi-frequency GNSS timing receiver<ul> <li>Accurate and resilient with dedicated timing features</li> <li>Highly secure against jamming and spoofing with AIM+ unique interference mitigation technology combined with Fugro AtomiChron services</li> <li>Update rate of 10 Hz</li> <li>448 hardware channels for simultaneous tracking of all visible supported satellite signals:<ul> <li>GPS: L1C/A, L1PY, L2C, L2P, L5</li> <li>GLONASS: L1CA, L2CA, L2P, L3 CDMA</li> <li>Beidou: B1I, B1C, B2a, B2b, B2I, B3</li> <li>Galileo: E1, E5a, E5b, E5 AltBoc, E6</li> <li>QZSS: L1C/A, L1 C/B, L2C, L5</li> <li>NavIC: L5</li> <li>SBAS: Egnos, WAAS, GAGAN, MSAS, SDCM (L1, L5)</li> <li>On-module L-band</li> </ul> </li> <li>Supports RTCM input for RTK Rover. RTCM output (RTK Base) is not supported.</li> <li>Time pulse precision: 5ns</li> <li>Time pulse precision with AtomiChron (L-Band or IP): &lt; 1ns</li> <li>Event accuracy: &lt; 20ns</li> <li>Operating temperature: -40 to 85 \u00b0C</li> <li>USB-C interface (UART and Ethernet-over-USB)</li> </ul> </li> <li>ESP32-WROVER processor (16MB flash, 8MB PSRAM)<ul> <li>USB-C interface (UART via CH340)</li> </ul> </li> <li>SiT5358 disciplined 10MHz oscillator<ul> <li>\u00b150ppb stability</li> <li>\u00b11ppb/\u00b0C frequency slope</li> <li>\u00b158ppb typical 20-year aging</li> <li>Digital frequency pulling via I\u00b2C</li> <li>Allan Deviation approaches 1E-14 at 10000 seconds with AtomiChron enabled</li> <li>Operating temperature: -40 to 85 \u00b0C (Industrial)</li> </ul> </li> <li>microSD socket<ul> <li>Connected directly to the mosaic-T for fast data logging</li> </ul> </li> <li>OLED display<ul> <li>128x64 pixels</li> </ul> </li> <li>Status LEDs</li> </ul> Connectivity Options <ul> <li>SMA Connections:<ul> <li>GNSS Antenna (L1/L2/L5/L-Band) - provides 3.3V for an active antenna</li> <li>10MHz Output - disciplined, configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> <li>10MHz Input - switchable, input impedance 50\u03a9, detection level -14dBm, max supported level +12dBm</li> <li>Pulse-Per-Second Square Wave - configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> <li>EventA Input - configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> </ul> </li> <li>3.5mm Screw Cage Connections:<ul> <li>9V-36V DC input (isolated)</li> <li>GND</li> <li>mosaic-T COM2 (TX/RX/CTS/RTS) - 3.3V / 5V switchable</li> <li>CTS can be configured as a 3.3V / 5V power output via a solder jumper</li> <li>EventB input - 3.3V / 5V switchable</li> <li>I<sup>2</sup>C (SCL2 / SDA2) for an external TCXO / OCXO - 3.3V / 5V switchable</li> </ul> </li> <li>Ethernet:<ul> <li>KSZ8041NLI Ethernet PHY interface</li> <li>10Base-T / 100Base-TX with auto-negotiate and Auto MDI/MDI-X</li> </ul> </li> <li>Power Options:<ul> <li>USB-C</li> <li>Power-over-Ethernet (PoE)</li> <li>9V-36V DC input (fully isolated)</li> </ul> </li> </ul> <p>RTK Base</p> <p>The mosaic-T is a superb GNSS module designed for highly accurate timing applications. It can be configured as a RTK Rover and will make use of incoming RTCM corrections. However, it can NOT be configured as a RTK Base because the RTCM output is not supported.</p> </li> Product Comparison <p>Below is a simple comparison table between our breakout board and Septentrio's development and evaluation kits:</p> <p>      mosaic-T Development Kit      mosaic-go Evaluation Kit      mosaic-X5 GNSS Breakout      RTK mosaic-X5      GNSSDO RTK Rover Yes Yes Yes Yes Yes RTK Base Yes Yes Yes Yes No GNSS Antenna Dual          Single (mosaic-X5)         Dual (mosaic-H)      Single Single Single USB Connector micro-B micro-B Type-C Type-C Type-C Ethernet          Yes 10/100 Base-T No No          Yes 10/100 Base-T          Yes 10/100 Base-T WiFi No No No          Yes - Network Bridge 10 Base-T No COM Ports 4 2 4          1 - mosaic-X5         1 - ESP32               1 - mosaic-T         1 - ESP32      \u00b5SD Card Slot Yes Yes Yes Yes Yes Reset/Log Buttons Yes No* Yes Yes Yes Logic-Level          1.8V         3.3V      3.3V 3.3V          3.3V         5V               3.3V         5V      PPS Signal Header Pin 6-Pin JST Connector SMA Connector Screw Terminal SMA Connector 10MHz Signal          SMA Connector In Only No No No          SMA Connector In/Out Enclosure Material N/A Metal N/A Aluminum Aluminum Dimensions N/A 71 x 59 x 12mm \u00b1 1mm 70.9 x 50.8 x 8mm          180.6 x 101.8 x 41mm Enclosure Only          180.6 x 101.8 x 41mm Enclosure Only Weight N/A 58g  \u00b1 1g 22.6g          415.15g Enclosure Only          415.15g Enclosure Only <p>mosaic-go Evaluation Kit</p> <p>The reset pin is exposed on 4-pin JST connector and the log pin is connected to the latch pin of the SD card slot.</p>"},{"location":"introduction/#required-materials","title":"Required Materials","text":"<p>The GNSSDO comes with everything you need to get up and running.</p> <p>Kit Contents</p> <p></p> <p>Everything that is included in the GNSSDO kit.</p> <ul> <li>Quick Start Guide</li> <li>Cased GNSS Receiver<ul> <li>Aluminum Enclosure (1)</li> <li>10-Way Terminal Blocks</li> <li>Qwiic 1.3\" OLED Display</li> </ul> </li> <li>L1/L2/L5 GNSS Surveying Antenna</li> <li>Reinforced RG58 TNC-SMA Cable (10m)</li> <li>32GB microSD Card (Class 10)</li> <li>USB A and C Power Delivery (PD) Wall Adapter - 65W</li> <li>USB-C to USB-C Cable (Flexible Silicone, 3m)</li> <li>Ethernet Cable (CAT-6, 1m)</li> <li>SMA to BNC Cable (RG316, 1m)</li> <li>Silicone Bumpers - 5x11mm (4 Pack)</li> </ul> <ol> <li>The linked product does not include the front/rear panels and stickers for the GNSSDO. Additionally, the product only features a red anodized plating and is not powder coated in the Septentrio orange.</li> </ol> Mounting Hardware <p>This kit does not include any mounting hardware for the antenna. If you wish to permanently mount the antenna outside, we recommend the following products:</p> <ul> <li> <p> <p>GNSS Antenna Mounting Hardware Kit KIT-22197</p> <li> <p> <p>GNSS Magnetic Antenna Mount - 5/8\" 11-TPI PRT-21257</p> <p>Tip</p> <p>If needed, use an extension cable to reach your installation location. We have daisy chained up to three RG58 10m cables with a marginal loss in signal strength.</p> Extension Cables <p>Your GNSSDO is equally at home on your desk, lab bench, or in a server rack. But you're still going to want to put the GNSS antenna outdoors, so it will have the best view of the sky. Some extra SMA extension cables may be useful. The <code>GNSS</code> SMA antenna connection from the SparkPNT GNSSDO has a standard polarity.</p> <p>For shorter extensions, we have RG178 cables in 1m and 25cm lengths. For longer extensions, we have higher quality, low-loss RG58 10m cables available in our catalog.</p> <ul> <li> <p> <p>Interface Cable - SMA Female to SMA Male (10m, RG58) CAB-21281</p> <li> <p> <p>Interface Cable - SMA Male to SMA Female Cable (1M, RG174) CAB-22035</p> <li> <p> <p>Interface Cable - SMA Male to SMA Female (25cm, RG174) CAB-22034</p> SMA Adapters <p>We have several adapters for users who need to connect to the <code>EVENTA</code>, <code>PPS</code>, and/or <code>10MHz</code> signals for their server or test equipment. These SMA connections from the SparkPNT GNSSDO have a standard polarity.</p> <ul> <li> <p> <p>SMA Male to RPSMA Male Adapter WRL-09233</p> <li> <p> <p>SMA Male to SMA Male Adapter WRL-21225</p> <li> <p> <p>SMA to U.FL Cable - 150mm WRL-18568</p> <li> <p> <p>SMA to BNC Male Cable - 1m (RG316) CAB-27480</p>  Selecting an Outdoor Enclosure <p>The GNSSDO comes in a beautiful custom extruded aluminum enclosure, with machined end panels and matching stickers. The slotted flanges make it easy to install and secure the enclosure in many locations. But the enclosure only provides limited protection against the ingress of dust and water; it is designed to IP42. So, if you are going to permanently install it up on the roof too, you're going to need a suitable weatherproof box. We found a good one - the Orbit 57095 - also available from Amazon - back when we put together our very first DIY GNSS Reference Station.</p> <ul> <li> <p> <p>How to Build a DIY GNSS Reference Station</p> <p>AC Not Required!</p> <p>The Orbit enclosure comes with a built-in power outlet, but you don't need it! The GNSSDO can be powered by Power-over-Ethernet (PoE), meaning all you really need to run up to the roof is a standard 8-core CAT-6 Ethernet cable. Choose a PoE Ethernet Switch that meets your needs. We have had good experiences with the TP-Link TL-SG1005P - available from many retailers including Amazon.</p>"},{"location":"introduction/#suggested-reading","title":"Suggested Reading","text":"<p>As a more sophisticated product, we will skip over the more fundamental tutorials (i.e. Ohm's Law and What is Electricity?). However, below are a few tutorials that may help users familiarize themselves with various aspects of the board.</p> <ul> <li> <p> <p>GPS Basics</p> <li> <p> <p>What is GPS RTK?</p> <li> <p> <p>How to Build a DIY GNSS Reference Station</p> <li> <p> <p>Setting up a Rover Base RTK System</p> <li> <p> <p>RTK mosaic-X5 Hookup Guide</p> <li> <p> <p>mosaic-X5 GNSS Breakout Board Hookup Guide</p> <li> <p> <p>How to Install CH340 Drivers</p> <li> <p> <p>Serial Terminal Basics</p> <li> <p> <p>Serial Communication</p> <li> <p> <p>Qwiic OLED 1.3\" Hookup Guide</p> <li> <p> <p>I2C</p> <li> <p> <p>Logic Levels</p> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> Related Blog Posts <p>Additionally, users may be interested in these blog post articles on GNSS technologies:</p> <ul> <li> <p> <p>GPS vs GNSS</p> <li> <p> <p>What is Correction Data?</p> <li> <p> <p>Real-Time Kinematics Explained</p> <li> <p> <p>DIY RTK Surveying</p> <li> <p> <p>New Video: Unlocking High-Precision RTK Positioning</p>"},{"location":"oscillator/","title":"Oscillator","text":""},{"location":"oscillator/#sitime-sit5358-disciplined-oscillator","title":"SiTime SiT5358 Disciplined Oscillator","text":"<p>SiT5358 TCXO Oscillator.</p> <p>For the best frequency accuracy, stability and holdover, the SparkPNT GNSSDO utilizes a SiTime SiT5358 Digitally-Controlled Temperature-Controlled Crystal Oscillator (DCTCXO). The SiT5358 is a precision MEMS Super-TCXO optimized for \u00b150 ppb stability from -40\u00b0C to 105\u00b0C. Engineered for best dynamic performance, it is ideal for high reliability telecom, wireless and networking, industrial, precision GNSS and audio/video applications.</p> <ul> <li>SiT5358AI-FS033IT-10.000000 10MHz DCTCXO</li> <li>\u00b150ppb stability</li> <li>\u00b11ppb/\u00b0C frequency slope</li> <li>\u00b158ppb typical 20-year aging</li> <li>Allan Deviation approaches 1E-14 at 10000 seconds with AtomiChron enabled</li> <li>Digital frequency pulling via I\u00b2C</li> <li>Operating temperature: -40 to 85 \u00b0C (Industrial)</li> </ul> <p>The SiT5358 is interfaced to the mosaic-T through a level-shifting buffer, replacing the mosaic's internal oscillator and allowing the oscillator frequency to be tuned (disciplined) under software control. The 10 MHz SMA output is generated by a duplicate level-shifter to ensure an equal delay and identical thermal phase changes.</p>"},{"location":"oscillator/#software-control-loop","title":"Software Control Loop","text":"<p>The SiT5358 is interfaced to the mosaic-T according to Appendix D of the mosaic Hardware Manual: \"mosaic-Based Disciplined Clock\".</p> <p>The ESP32 is interfaced to three of the mosaic-T's COM (UART) ports: <code>COM1</code>, <code>COM3</code>, and <code>COM4</code>. The ESP32 configures the mosaic-T via <code>COM4</code>. <code>COM1</code> is dedicated as an output port for the SBF blocks used to tune the oscillator frequency. <code>COM3</code> is used to divert the ESP32 serial console to TCP.</p> <p>When the firmware boots, the mosaic-T is configured as follows:</p> <pre><code>setPPSParameters, off\nsetClockSyncThreshold, usec500, on\nsetSBFGroups, Group1, PVTGeodetic+ReceiverTime\nsetSBFOutput, Stream1, COM1, Group1, sec1\nsetSBFOutput, Stream2, COM1, IPStatus+FugroTimeOffset, OnChange\nexeCopyConfigFile, Current, Boot\n</code></pre> <p>These commands configure the mosaic so that it: starts-up with the PPS pulses disabled; performs an initial precise synchronization to GNSS time; and outputs the PVTGeodetic and ReceiverTime blocks on COM1 at 1Hz. IPStatus is output each time one or more IP parameters change. With a Fugro Atomichron subscription, the FugroTimeOffset message will be generated each time one of the clock biases changes.</p> <p>The firmware monitors the message blocks on <code>COM1</code>. The <code>ERROR</code> LED follows the PVTGeodetic Error code. The LED is extinguished when Error is zero.</p> <p>The firmware waits until the ReceiverTime SyncLevel FINETIME bit is set, indicating that the receiver time initialization is complete. Once the FINETIME bit is set, it remains set until the next reset of the receiver.</p> <p>The firmware then monitors the PVTGeodetic RxClkBias (as 64-bit float in milliseconds). When RxClkBias is positive, receiver time is ahead of system time and the oscillator frequency should be reduced. When RxClkBias is negative, receiver time is behind system time and the oscillator frequency should be increased. The firmware will adjust the SiT5358 oscillator frequency via the 26-bit Digital Frequency Control register accordingly. As per Appendix D, the frequency will be changed by no more than 3ppb per second.</p> <p>The Proportional (P) and Integral (I) terms can be adjusted via the ESP32 firmware settings.</p> <p>The <code>LOCK</code> LED will illuminate and PPS pulses will be generated when RxClkBias is less than 10ns. The OLED will show <code>PPS On</code> when pulses are being generated.</p> <p>The 10ns lock threshold / limit can be changed by the user through the ESP32 USB-C interface and saved in non-volatile memory.</p> <p>The Pulse-Per-Second parameters can also be configured by the user through the ESP32 firmware settings: interval, polarity, delay, time scale, max sync age, pulse width.</p> <pre><code>setPPSParameters, Interval, Polarity, Delay, TimeScale, MaxSyncAge, PulseWidth\n</code></pre> <p>Should PVTGeodetic Error indicate an error (i.e. become non-zero), the loop will continue but no changes will be made to the oscillator frequency until the error is cleared.</p> <p>Occasionally, the initial mosaic-T clock bias can be excessive - microseconds rather than nanoseconds. The firmware detects this and will restart the GNSS to achieve a better lock. You will see <code>Bad RxClkBias --- Restarting</code> appear on the OLED when this happens. The threshold for this can be adjusted via the ESP32 firmware settings.</p>"},{"location":"print_view/","title":"Introduction","text":"<ul> <li> <p> GNSSDO SKU: GPS-26289 <p> </p> <p> </p> <p> Purchase from SparkFun  </p> <li> <p>Designed and manufactured in Boulder, Colorado, USA, the SparkPNT GNSSDO is the perfect solution for your high-precision timing needs. Based around the multi-constellation, multi-frequency, L5-ready mosaic-T from Septentrio, this is our most accurate GNSS timing product to date. It features a SiTime SiT5358 disciplined 10MHz Digitally-Controlled Temperature-Controlled Crystal Oscillator (DCTCXO) providing excellent clock accuracy, stability and holdover. The mosaic-T also has built-in on-module support for the Fugro AtomiChron L-band timing service.</p> <p>Under the hood, the GNSSDO is based on the mosaic-T GNSS module from Septentrio, plus the Espressif ESP32-WROVER processor (16MB flash, 8MB PSRAM). The mosaic-T has USB-C connectivity (with Ethernet-over-USB), multiple UARTs and supports full Ethernet connectivity. You can connect the mosaic-T directly to your Ethernet network - our product supports Power-over-Ethernet too. The ESP32 rides shotgun, disciplining the DCTCXO and controlling the OLED display. The GNSSDO has multiple power options including USB-C, PoE and 9V-36V DC, making it easy to connect it to a battery-backed supply. Robust SMA connections and screw cage terminals provide access to the Pulse-Per-Second and 10MHz clock signals.</p> Features <ul> <li>Septentrio mosaic-T multi-constellation, multi-frequency GNSS timing receiver<ul> <li>Accurate and resilient with dedicated timing features</li> <li>Highly secure against jamming and spoofing with AIM+ unique interference mitigation technology combined with Fugro AtomiChron services</li> <li>Update rate of 10 Hz</li> <li>448 hardware channels for simultaneous tracking of all visible supported satellite signals:<ul> <li>GPS: L1C/A, L1PY, L2C, L2P, L5</li> <li>GLONASS: L1CA, L2CA, L2P, L3 CDMA</li> <li>Beidou: B1I, B1C, B2a, B2b, B2I, B3</li> <li>Galileo: E1, E5a, E5b, E5 AltBoc, E6</li> <li>QZSS: L1C/A, L1 C/B, L2C, L5</li> <li>NavIC: L5</li> <li>SBAS: Egnos, WAAS, GAGAN, MSAS, SDCM (L1, L5)</li> <li>On-module L-band</li> </ul> </li> <li>Supports RTCM input for RTK Rover. RTCM output (RTK Base) is not supported.</li> <li>Time pulse precision: 5ns</li> <li>Time pulse precision with AtomiChron (L-Band or IP): &lt; 1ns</li> <li>Event accuracy: &lt; 20ns</li> <li>Operating temperature: -40 to 85 \u00b0C</li> <li>USB-C interface (UART and Ethernet-over-USB)</li> </ul> </li> <li>ESP32-WROVER processor (16MB flash, 8MB PSRAM)<ul> <li>USB-C interface (UART via CH340)</li> </ul> </li> <li>SiT5358 disciplined 10MHz oscillator<ul> <li>\u00b150ppb stability</li> <li>\u00b11ppb/\u00b0C frequency slope</li> <li>\u00b158ppb typical 20-year aging</li> <li>Digital frequency pulling via I\u00b2C</li> <li>Allan Deviation approaches 1E-14 at 10000 seconds with AtomiChron enabled</li> <li>Operating temperature: -40 to 85 \u00b0C (Industrial)</li> </ul> </li> <li>microSD socket<ul> <li>Connected directly to the mosaic-T for fast data logging</li> </ul> </li> <li>OLED display<ul> <li>128x64 pixels</li> </ul> </li> <li>Status LEDs</li> </ul> Connectivity Options <ul> <li>SMA Connections:<ul> <li>GNSS Antenna (L1/L2/L5/L-Band) - provides 3.3V for an active antenna</li> <li>10MHz Output - disciplined, configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> <li>10MHz Input - switchable, input impedance 50\u03a9, detection level -14dBm, max supported level +12dBm</li> <li>Pulse-Per-Second Square Wave - configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> <li>EventA Input - configurable for 5V / 3.3V / 2.8V / 1.8V and 50 Ohm</li> </ul> </li> <li>3.5mm Screw Cage Connections:<ul> <li>9V-36V DC input (isolated)</li> <li>GND</li> <li>mosaic-T COM2 (TX/RX/CTS/RTS) - 3.3V / 5V switchable</li> <li>CTS can be configured as a 3.3V / 5V power output via a solder jumper</li> <li>EventB input - 3.3V / 5V switchable</li> <li>I<sup>2</sup>C (SCL2 / SDA2) for an external TCXO / OCXO - 3.3V / 5V switchable</li> </ul> </li> <li>Ethernet:<ul> <li>KSZ8041NLI Ethernet PHY interface</li> <li>10Base-T / 100Base-TX with auto-negotiate and Auto MDI/MDI-X</li> </ul> </li> <li>Power Options:<ul> <li>USB-C</li> <li>Power-over-Ethernet (PoE)</li> <li>9V-36V DC input (fully isolated)</li> </ul> </li> </ul> <p>RTK Base</p> <p>The mosaic-T is a superb GNSS module designed for highly accurate timing applications. It can be configured as a RTK Rover and will make use of incoming RTCM corrections. However, it can NOT be configured as a RTK Base because the RTCM output is not supported.</p> </li> Product Comparison <p>Below is a simple comparison table between our breakout board and Septentrio's development and evaluation kits:</p> <p>      mosaic-T Development Kit      mosaic-go Evaluation Kit      mosaic-X5 GNSS Breakout      RTK mosaic-X5      GNSSDO RTK Rover Yes Yes Yes Yes Yes RTK Base Yes Yes Yes Yes No GNSS Antenna Dual          Single (mosaic-X5)         Dual (mosaic-H)      Single Single Single USB Connector micro-B micro-B Type-C Type-C Type-C Ethernet          Yes 10/100 Base-T No No          Yes 10/100 Base-T          Yes 10/100 Base-T WiFi No No No          Yes - Network Bridge 10 Base-T No COM Ports 4 2 4          1 - mosaic-X5         1 - ESP32               1 - mosaic-T         1 - ESP32      \u00b5SD Card Slot Yes Yes Yes Yes Yes Reset/Log Buttons Yes No* Yes Yes Yes Logic-Level          1.8V         3.3V      3.3V 3.3V          3.3V         5V               3.3V         5V      PPS Signal Header Pin 6-Pin JST Connector SMA Connector Screw Terminal SMA Connector 10MHz Signal          SMA Connector In Only No No No          SMA Connector In/Out Enclosure Material N/A Metal N/A Aluminum Aluminum Dimensions N/A 71 x 59 x 12mm \u00b1 1mm 70.9 x 50.8 x 8mm          180.6 x 101.8 x 41mm Enclosure Only          180.6 x 101.8 x 41mm Enclosure Only Weight N/A 58g  \u00b1 1g 22.6g          415.15g Enclosure Only          415.15g Enclosure Only <p>mosaic-go Evaluation Kit</p> <p>The reset pin is exposed on 4-pin JST connector and the log pin is connected to the latch pin of the SD card slot.</p>"},{"location":"print_view/#required-materials","title":"Required Materials","text":"<p>The GNSSDO comes with everything you need to get up and running.</p> <p>Kit Contents</p> <p></p> <p>Everything that is included in the GNSSDO kit.</p> <ul> <li>Quick Start Guide</li> <li>Cased GNSS Receiver<ul> <li>Aluminum Enclosure (1)</li> <li>10-Way Terminal Blocks</li> <li>Qwiic 1.3\" OLED Display</li> </ul> </li> <li>L1/L2/L5 GNSS Surveying Antenna</li> <li>Reinforced RG58 TNC-SMA Cable (10m)</li> <li>32GB microSD Card (Class 10)</li> <li>USB A and C Power Delivery (PD) Wall Adapter - 65W</li> <li>USB-C to USB-C Cable (Flexible Silicone, 3m)</li> <li>Ethernet Cable (CAT-6, 1m)</li> <li>SMA to BNC Cable (RG316, 1m)</li> <li>Silicone Bumpers - 5x11mm (4 Pack)</li> </ul> <ol> <li>The linked product does not include the front/rear panels and stickers for the GNSSDO. Additionally, the product only features a red anodized plating and is not powder coated in the Septentrio orange.</li> </ol> Mounting Hardware <p>This kit does not include any mounting hardware for the antenna. If you wish to permanently mount the antenna outside, we recommend the following products:</p> <ul> <li> <p> <p>GNSS Antenna Mounting Hardware Kit KIT-22197</p> <li> <p> <p>GNSS Magnetic Antenna Mount - 5/8\" 11-TPI PRT-21257</p> <p>Tip</p> <p>If needed, use an extension cable to reach your installation location. We have daisy chained up to three RG58 10m cables with a marginal loss in signal strength.</p> Extension Cables <p>Your GNSSDO is equally at home on your desk, lab bench, or in a server rack. But you're still going to want to put the GNSS antenna outdoors, so it will have the best view of the sky. Some extra SMA extension cables may be useful. The <code>GNSS</code> SMA antenna connection from the SparkPNT GNSSDO has a standard polarity.</p> <p>For shorter extensions, we have RG178 cables in 1m and 25cm lengths. For longer extensions, we have higher quality, low-loss RG58 10m cables available in our catalog.</p> <ul> <li> <p> <p>Interface Cable - SMA Female to SMA Male (10m, RG58) CAB-21281</p> <li> <p> <p>Interface Cable - SMA Male to SMA Female Cable (1M, RG174) CAB-22035</p> <li> <p> <p>Interface Cable - SMA Male to SMA Female (25cm, RG174) CAB-22034</p> SMA Adapters <p>We have several adapters for users who need to connect to the <code>EVENTA</code>, <code>PPS</code>, and/or <code>10MHz</code> signals for their server or test equipment. These SMA connections from the SparkPNT GNSSDO have a standard polarity.</p> <ul> <li> <p> <p>SMA Male to RPSMA Male Adapter WRL-09233</p> <li> <p> <p>SMA Male to SMA Male Adapter WRL-21225</p> <li> <p> <p>SMA to U.FL Cable - 150mm WRL-18568</p> <li> <p> <p>SMA to BNC Male Cable - 1m (RG316) CAB-27480</p>  Selecting an Outdoor Enclosure <p>The GNSSDO comes in a beautiful custom extruded aluminum enclosure, with machined end panels and matching stickers. The slotted flanges make it easy to install and secure the enclosure in many locations. But the enclosure only provides limited protection against the ingress of dust and water; it is designed to IP42. So, if you are going to permanently install it up on the roof too, you're going to need a suitable weatherproof box. We found a good one - the Orbit 57095 - also available from Amazon - back when we put together our very first DIY GNSS Reference Station.</p> <ul> <li> <p> <p>How to Build a DIY GNSS Reference Station</p> <p>AC Not Required!</p> <p>The Orbit enclosure comes with a built-in power outlet, but you don't need it! The GNSSDO can be powered by Power-over-Ethernet (PoE), meaning all you really need to run up to the roof is a standard 8-core CAT-6 Ethernet cable. Choose a PoE Ethernet Switch that meets your needs. We have had good experiences with the TP-Link TL-SG1005P - available from many retailers including Amazon.</p>"},{"location":"print_view/#suggested-reading","title":"Suggested Reading","text":"<p>As a more sophisticated product, we will skip over the more fundamental tutorials (i.e. Ohm's Law and What is Electricity?). However, below are a few tutorials that may help users familiarize themselves with various aspects of the board.</p> <ul> <li> <p> <p>GPS Basics</p> <li> <p> <p>What is GPS RTK?</p> <li> <p> <p>How to Build a DIY GNSS Reference Station</p> <li> <p> <p>Setting up a Rover Base RTK System</p> <li> <p> <p>RTK mosaic-X5 Hookup Guide</p> <li> <p> <p>mosaic-X5 GNSS Breakout Board Hookup Guide</p> <li> <p> <p>How to Install CH340 Drivers</p> <li> <p> <p>Serial Terminal Basics</p> <li> <p> <p>Serial Communication</p> <li> <p> <p>Qwiic OLED 1.3\" Hookup Guide</p> <li> <p> <p>I2C</p> <li> <p> <p>Logic Levels</p> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> Related Blog Posts <p>Additionally, users may be interested in these blog post articles on GNSS technologies:</p> <ul> <li> <p> <p>GPS vs GNSS</p> <li> <p> <p>What is Correction Data?</p> <li> <p> <p>Real-Time Kinematics Explained</p> <li> <p> <p>DIY RTK Surveying</p> <li> <p> <p>New Video: Unlocking High-Precision RTK Positioning</p>"},{"location":"print_view/#quick-start-guide","title":"Quick Start Guide","text":"<p>Directions</p> <p>This quick start guide is intended to help users get started with the SparkPNT GNSSDO, without having to review the technical details of this product. It includes the minimum instructions to initially set up the GNSSDO, depending on the primary interface that users would like to utilize:</p> Ethernet <p>Instructions to connect the GNSSDO to a local network with an ethernet cable. This will provide the mosaic-T module with network connectivity for its internal web server; where, users can access its web pages with any computer or mobile device to configure the mosaic-T GNSS module.</p> mosaic-T USB-C <p>For users that just want to interface and configure the mosaic-T GNSS module, inside the GNSSDO, directly through a computer.</p> ESP32 USB-C <p>For users that want to interface with the firmware running on the GNSSDO, using a terminal emulator on a computer.</p> <p>  Click on the tab of your preferred interface (below), to get started with the GNSSDO.  </p>  Quick Start Pamphlet <p>For users who have lost the pamphlet in their kit, please check out the links below to download the <code>*.pdf</code> file:</p> <p>  Download the Quick Start Guide  Click on the button (above) or scan the QR code with a mobile device, to download the <code>*.pdf</code> file of the quick start pamphlet. </p>  Ethernet mosaic-T USB-C ESP32 USB-C <p>The simplest way to get your GNSSDO up and running is to connect it to your Ethernet network or an Ethernet port on your broadband router:</p> <p> Ethernet Connections (PNG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Connect the GNSSDO to your Ethernet network or router <ul> <li>Use the supplied CAT-6 Ethernet cable to connect the <code>ETHERNET (PoE)</code> port to your network or an Ethernet port on your router.</li> <li>If your router provides Power-over-Ethernet (PoE), you're all set (skip the next step)!<ul> <li>You should see the red <code>PWR</code> LED light up and text start to appear on the OLED display.</li> </ul> </li> <li>If your router does not provide PoE, move on to step <code>3</code>.</li> </ul> <code>3</code> - Provide power <ul> <li>You can power the GNSSDO using the supplied USB power supply (wall adapter) and USB cable.<ul> <li>Plug the power supply into the wall.</li> <li>Use the supplied USB-C cable to connect the power supply to either of the USB-C ports.</li> </ul> </li> <li>You should see the red power <code>PWR</code> LED light up and text appear on the OLED display.</li> </ul> <p>Once the mosaic-T has acquired a satellite signal and is connected to the Ethernet network, the OLED will display: the date and time; the antenna's position as Latitude (Lat) and Longitude (Long); the Ethernet IP (Internet Protocol) network address.</p> <p>Connect your computer or mobile device to the same network that the GNSSDO is on, open a web browser and navigate to the IP address shown on the OLED display. You should be able to access the mosaic-T module's internal web sever. Each web page displays a lot of helpful information and can also be used to fully configure the mosaic-T GNSS module.</p> <p> mosaic-T web page (PNG) for the GNSSDO.  </p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the wall adapter has power and the USB cable is connected.</p> <p>If you use your own Ethernet cable for Power-over-Ethernet, check it has all eight pins connected. Some cables only have four pins connected and do not support Power-over-Ethernet.</p> No position information? <p>The OLED display will only show position information (Lat, Long etc.) once a satellite signal has been acquired. If you don't see these on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the <code>CONFIG MOSAIC</code> USB-C port and open <code>192.168.3.1</code> on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (<code>0.0.0.0</code>), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (<code>192.168.3.***</code>), please change its settings so it uses a different subnet.</p> No web page? <p>If you can not see the mosaic-T's internal web page, please check that your computer / tablet / phone is connected to the same network. Most broadband routers support both Ethernet and WiFi simultaneously using the same subnet. If you are using a phone, check it is connected to the router WiFi - and not using its mobile data connection.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (<code>192.168.3.***</code>), please change its settings so it uses a different subnet. If it is using subnet 3, both the mosaic-T and your device will appear to have valid IP addresses but will not be able to communicate.</p> <p>The mosaic-T has a built-in high-speed USB port which supports Ethernet-over-USB and two additional UART <code>COM</code> ports. To take advantage of this interface, you first need to install Septentrio's USB driver.</p> <p> USB Connections (PNG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Download and install Septentrio RxTools <ul> <li>The Septentrio mosaic-T Resources page has download links for the mosaic-T datasheet, firmware, firmware guide, hardware manual, how-to videos and the RxTools support tool suite.</li> <li>RxTools includes the USB driver for the mosaic-T module plus several tools, which you can use to control and configure the mosaic-T, forward data, log data, analyze the log files, convert the log files to other formats, and configure the module for use with other GIS software.</li> <li>Download and install RxTools.</li> </ul> <code>3</code> - Connect the GNSSDO to your computer <ul> <li>Use the supplied USB-C cable to connect the <code>CONFIG MOSAIC</code> port to your computer.</li> </ul> <code>4</code> - Open the web page <ul> <li>Open a web browser on your computer and navigate to <code>192.168.3.1</code> to view the mosaic-T's internal web page.</li> </ul> <p>You can now use the RxTools suite to take full advantage of the sophisticated mosaic-T.</p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the USB cable is connected.</p> No position information? <p>The OLED display will only show position information (Lat, Long, Alt etc.) once a satellite signal has been acquired. If you see only an IP address on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No web page? <p>If you can not see the mosaic-T's internal web page at <code>192.168.3.1</code>, please check that your computer / tablet / phone is connected correctly to the USB-C port.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your computer is simultaneously connected to an Ethernet or WiFi network that also uses subnet 3 (<code>192.168.3.***</code>), please change the network settings so it uses a different subnet.</p> <p>The SparkPNT GNSSDO contains an ESP32-WROVER microcontroller module, which is able to discipline the frequency of the internal SiT5358 temperature-controlled crystal oscillator (TCXO). By linking the <code>CONFIG ESP32</code> USB-C port to your computer, you can view and modify the settings of the ESP32 firmware using a terminal emulator.</p> <p> USB Connections (JPG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Download and install a terminal emulator like Tera Term <ul> <li>To communicate with the firmware running on the ESP32, you will need a serial console or terminal emulator.<ul> <li>If you are using Windows, we still recommend Tera Term</li> </ul> </li> </ul> <code>3</code> - Connect the GNSSDO to your computer <ul> <li>Use the supplied USB-C cable to connect the <code>CONFIG ESP32</code> port to your computer.<ul> <li>You may need to install a USB driver first, so that the CH340 serial interface chip is recognized.</li> </ul> </li> </ul> <code>4</code> - Open the terminal emulator <ul> <li>Open the terminal emulator and connect to the CH340 COM port. Select 115200bps as the baud rate.</li> <li>Once connected, you will see a debug message from the ESP32 every second. The message contains the date, time, Lat, Long and other information about the clock accuracy.</li> <li>Pressing any key will open the configuration menu, allowing you to change the firmware settings if needed.<ul> <li>The firmware settings are stored in flash (non-volatile) memory when you exit the menus. After changing them, exit the menus completely, then you can disconnect the computer and power the GNSS using the supplied wall charger.</li> </ul> </li> </ul> <p>Note</p> <p>You should never need to change most of the firmware settings, the default settings will meet the needs of almost all users.</p> <p>Tip</p> <p>Enabling the TCP Server (IPS1) option via the Configure Operation menu will allow you to access the firmware serial console via TCP. The firmware settings can then be accessed over the Ethernet or Ethernet-over-USB interfaces, instead of CONFIG ESP32 USB-C. The TCP port number can be changed via the menu; the default TCP port is 28785.</p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the USB cable is connected.</p> No position information? <p>The OLED display will only show position information (Lat, Long, Alt etc.) once a satellite signal has been acquired. If you see only an IP address on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No serial console? <p>If you can not see the debug messages and configuration menu in the terminal emulator, check that: you have installed the CH340 driver if needed; you are connected to the CH340 COM port; you have selected 115200bps as the baud rate.</p>"},{"location":"print_view/#hardware-overview","title":"Hardware Overview","text":"<p>Read Before Handling PCB!</p> <p>ESD Sensitivity</p> <p>The mosaic-T module is sensitive to ESD. Use a proper grounding system to make sure that the working surface and the components are at the same electric potential.</p> ESD Precaution <p>As recommended by the manufacturer, we highly encourage users to take the necessary precautions to avoid damaging their module.</p> <ul> <li>The GNSSDO features ESD protection on the USB-C connectors, ethernet jack, I/O terminals and antenna connections.</li> </ul> <p> </p> <ul> <li> <p> <p>iFixit Anti-Static Wrist Strap TOL-25572</p> <p>ESP32 Firmware</p> <p>We have intentionally kept the ESP32 firmware as simple as possible - it only disciplines the TCXO oscillator and controls the OLED display. The SparkFun RTK Firmware or SparkFun RTK Everywhere firmware will not run on this product. The intention is that you can easily develop your own firmware for the GNSSDO if the SparkFun firmware does not meet your needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>You can of course modify the hardware too, should you want to. The design is completely open-source.</p>"},{"location":"print_view/#hardware-overview_1","title":"Hardware Overview","text":"<p>In this section, we walk you through the hardware design, interfaces, I/O connections, power options and more.</p>"},{"location":"print_view/#schematic","title":"Schematic","text":"<p>Users can download the full schematic for the GNSSDO in <code>*.pdf</code> format.</p>"},{"location":"print_view/#dimensions","title":"Dimensions","text":"Metal Enclosure Printed Circuit Board Antenna <p>Details about the aluminum enclosure can be found on the Metal Enclosure - Custom Aluminum Extrusion (6in. x 4in. PCB) product page.</p> <p> Dimensions (PDF) of the GNSSDO aluminum enclosure and the front/rear panels, in millimeters.  </p> <p>The circuit board dimensions are illustrated in the drawing below; the listed measurements are in inches.</p> <p> Dimensions (PNG) of the GNSSDO PCB, in inches.  </p> Need Dimensions? <p>For the board dimensions, users can download the KiCad files for this board. These files can be opened in KiCad and measurements can be made with the measuring tool.</p> <p> KiCad - Free Download!</p> <p>KiCad is free, open-source CAD program for electronics. Click on the button below to download their software. (*Users can find out more information about KiCad from their website.)</p> <p> Download KiCad primary logo </p>  Measuring Tool <p>This video demonstrates how to utilize the dimensions tool in KiCad, to include additional measurements:</p> <p> </p> <p>The dimensions and technical specifications of the GNSS antenna can be found on the GNSS Multi-Band L1/L2/L5 Surveying Antenna - TNC (SPK6618H) product page.</p> <p>  Dimensions of the included GNSS antenna, in mm. Source: SPK6618H Datasheet (PDF) </p>"},{"location":"print_view/#power-options","title":"Power Options","text":"<p>The mosaic-T and the ESP32 both required 3.3V power. To simplify the power circuitry, the four power sources are combined into a common 5V rail which then feeds individual 3.3V regulators for the mosaic-T and the ESP32.</p> <p></p> <p>Power connections on the GNSSDO PCB.</p> <p>The GNSSDO can be powered individually or in combination, with any of the following:</p> <ul> <li><code>USB Ports</code> - 5V; delivered via the <code>MOSAIC CONFIG</code> and/or <code>ESP32 CONFIG</code> USB-C connectors.</li> <li><code>Power-over-Ethernet</code> - Range: 36 to 57V; delivered via the <code>MOSAIC ETHERNET</code> RJ45 MagJack connector.</li> <li><code>External DC Power</code> - Range: 9 to 36V; delivered via the <code>VIN+</code> and <code>VIN-</code> screw cage terminals.</li> </ul> Measure Current Draw <p>If you want to measure the board's current draw, you can open the <code>MEAS</code> jumper and measure the current via a pair of breakout pads (see the Jumpers section).</p> Protection Components <p>Diodes are used to combine and protect the power sources from each other. Also, a 2A resettable fuse (green) provides additional protection.</p> <p>Info</p> <p>For more details, users can reference the schematic and the datasheets of the individual components on the board.</p>  USB-C Connectors Power-over-Ethernet (PoE) External DC Power (VIN) <p>The mosaic-T and ESP32 both have USB-C connections. These USB ports can be used to power the GNSSDO during the initial configuration when the mosaic-T or ESP32 are connected to a computer.</p> <p> USB-C connectors on the GNSSDO. </p> <p> The USB-C device connections on the GNSSDO PCB. </p> <p>CH340 Driver</p> <p>The CH340 allows the ESP32-WROVER to communicate with a computer/host device through the USB-C connection. This allows the ESP32 to show up as a device on the serial (or COM) port of the computer. Users will need to install the latest drivers for the computer to recognize the CH340 (see USB Driver section).</p> <p>The mosaic-T Ethernet port supports Power-over-Ethernet (PoE), allowing the GNSSDO to be powered by the network. This is very useful when the GNSSDO is mounted remotely - perhaps in a weatherproof box up on the roof. Data and power can be delivered through a single cable, avoiding the need for a separate power connection.</p> <p> The Power-over-Ethernet (PoE) jack on the GNSSDO. </p> <p> The PoE power input circuit on the GNSSDO PCB. </p> <p>The GNSSDO includes a fully-isolated DC-DC converter, for applications where you may want to power the unit from a vehicle. The DC-DC converter accepts DC voltages between 9V and 36V, regulating this down to 5V. The converter is fully isolated to 1.5kV and operates with ~90% efficiency.</p> <p> The <code>VIN+</code> and <code>VIN-</code> screw terminal pins for the external DC power input. </p> <p> The DC-DC power converter and external power inputs on the GNSSDO PCB. </p> Vehicle Power <p>For 12V or 24V vehicle power:</p> <ul> <li>Connect 12V or 24V to the <code>VIN+</code> screw cage terminal</li> <li>Connect 0V (chassis) to the <code>VIN-</code> screw cage terminal</li> </ul> <p>Power Source</p> <p>Additionally, make sure that the power source from the vehicle is not directly tied to the vehicle's battery, <code>Always On</code>, or accessory circuits. Otherwise, users will risk draining the battery while the engine is off.</p> <p>We recommend locating the ignition on or switched power circuit, which is only powered when the key is in the <code>On</code> position and the engine is running.</p> <p>Note</p> <p>The <code>On</code> position, is where a key normally rests after the engine is started. However, users can still move the key from the <code>Off</code> position and into the <code>On</code> position without starting the engine. In this case, the alternator is not running and keeping the battery charged.</p> <p>Modern eco-efficient vehicles may automatically shut down the engine if the vehicle is idling too long. Therefore, cutting off the vehicle's alternator that keeps the battery charged. Luckily, most vehicles with this automatic start/stop technology will monitor the battery's voltage and restart the engine when required. With this in mind, users may want to initially monitor their battery voltage, in case their vehicle isn't \"so smart\" .</p> Ground Loop <p>If desired, users can link <code>VIN-</code> to the adjacent <code>GND</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p>"},{"location":"print_view/#septentrio-logo-mosaic-t","title":"Septentrio logo mosaic-T","text":"<p>The heart of our product is of course the mosaic-T GNSS module from Septentrio. It is a very sophisticated chip with multiple interfaces: UARTS, USB and Ethernet. The <code>GPIO1</code> and <code>GPIO2</code> pins are available as 0.1\" test points should you need access to them.</p> <p></p> <p>The Septentrio mosaic-T GNSS module.</p>"},{"location":"print_view/#espressif-logo-esp32-wrover","title":"Espressif logo ESP32-WROVER","text":"<p>The ESP32 processor is there to control (discipline) the 10 MHz TCXO oscillator and the OLED display. We have deliberately kept the ESP32 firmware as simple as possible. The intention is that you can write your own firmware using the Espressif IDF or Arduino IDE if you need to.</p> <p></p> <p>The Espressif ESP32-WROVER processor.</p> <p>Think of the ESP32 as a co-processor, or riding shotgun... The mosaic-T <code>COM1</code>, <code>COM3</code> and <code>COM4</code> UARTs are linked to the ESP32, allowing the two to communicate directly without needing an Ethernet link. In our firmware, the PVTGeodetic and ReceiverTime messages are output on COM1. The ESP32 displays some of their content on the I<sup>2</sup>C OLED display, and then uses the content to discipline the TCXO oscillator. See Oscillator for more details.</p> ESP32 Firmware <p>We have intentionally kept the ESP32 firmware as simple as possible. The intention is that users can easily develop their, own firmware for the GNSSDO using the Espressif ESP IDF or the Arduino IDE if the SparkFun firmware does not meet their needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>The ESP32-WROVER-IE antenna is not connected. If you write your own firmware and want to use BT/WiFi connectivity, you will need to attach your own antenna to the u.FL connector on the ESP32 module.</p>"},{"location":"print_view/#ethernet-phy-interface","title":"Ethernet PHY Interface","text":"<p>The mosaic-T has a KSZ8041NLI Ethernet PHY interface, connected using a Reduced Media-Independent Interface (RMII).</p> <p></p> <p>Ethernet (PoE) conection.</p> <p></p> <p>The Ethernet PHY on the GNSSDO PCB.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the CONFIG MOSAIC USB-C port and open 192.168.3.1 on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (0.0.0.0), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (192.168.3.***), please change its settings so it uses a different subnet.</p>"},{"location":"print_view/#usb-c-connectors","title":"USB-C Connectors","text":"<p>The mosaic-T and ESP32 both have USB-C connections. The MOSAIC USB port is high-speed and connected to the T through a balancing transformer. The ESP32 USB port is connected through a CH340 USB-UART IC.</p> <p></p> <p>USB-C connections: mosaic-T (left) and ESP32 (right).</p> <p></p> <p>The USB-C data connections on the GNSSDO PCB.</p> <p>Info</p> <p>The GNSSDO can draw power from either or both USB ports, in addition to Power-over-Ethernet and the DC-DC external input described above.</p> <p>CH340 Driver</p> <p>The CH340 allows the ESP32-WROVER to communicate with a computer/host device through the USB-C connection. This allows the ESP32 to show up as a device on the serial (or COM) port of the computer. Users will need to install the latest drivers for the computer to recognize the CH340 (see USB Driver section).</p>"},{"location":"print_view/#sd-socket","title":"\u00b5SD Socket","text":"<p>The \u00b5SD socket is connected directly to the mosaic-T via a one-bit SDIO interface for fast data logging. The mosaic-T supports \u00b5SD cards with a FAT32 file system (i.e. only cards up to 32GB in size).</p> <p></p> <p>\u00b5SD slot and LOG button.</p> <p></p> <p>\u00b5SD socket and Log button on the GNSSDO PCB.</p> Operation Instructions <p>Initial Configuration</p> <p>Before logging can take place, it is necessary to define a \"logging stream\" using the Logging page or RxTools. Streams can contain NMEA or SBF (Septentrio Binary Format) data; SBF can contain RTCM and/or RINEX.</p> <p> \u00b5SD logging stream configuration. </p> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> <p>Once the stream is defined, users can control the data logging operation through the LOG button.</p> <ul> <li>A short press of the LOG button (&lt; 5s) toggles data logging to the SD card on and off.<ul> <li>The red <code>LOG</code> LED will flash while logging is taking place.</li> </ul> </li> <li>A long press, holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> </ul>"},{"location":"print_view/#sma-connectors","title":"SMA Connectors","text":"<p>The GNSSDO has robust SMA connectors for the mosaic-T GNSS antenna, Pulse-Per-Second output, 10 MHz input / output, and the Event A input.</p> <p></p> <p>The SMA connections on the SparkPNT GNSSDO.</p> <p>Connector Polarity</p> <p>All these SMA connectors have a standard polarity. When selecting antennas and/or cables for the GNSSDO, double-check the polarity for the connections and cables.</p> <code>EVENTA</code><code>10MHz</code><code>PPS</code><code>GNSS</code> <p> The SMA connector for the EventA input. </p> <p>The Event A SMA connector is standard polarity. The voltage is adjustable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The output   can also be configured for 50 Ohm via the jumper links (see the Jumpers section).</p> <p> The connection for the EventA input. </p> <p> The SMA connector for the 10 MHz output / input. </p> <p>The 10 MHz SMA connector is standard polarity. The voltage is adjustable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The output    can also be configured for 50 Ohm via the jumper links (see the Jumpers section). Output / Input is selected via the small slide switch adjacent to the connector. When configured for input: the input   impedance is 50\u03a9; the detection level is -14dBm; the max supported input level is +12dBm.</p> <p> The connection for the 10 MHz output / input. </p> <p> The SMA connector for the Pulse-Per-Second output. </p> <p>The Pulse-Per-Second SMA connector is standard polarity. The voltage is selectable via the VCCIO switch: 3.3V or 5V. 2.8V and 1.8V are also available via the jumper links (see the Jumpers section). The     output is DC-coupled. The output can be configured for 50 Ohm output via the jumper links (see the Jumpers section).</p> <p> The connection for the Pulse-Per-Second output. </p> <p> The SMA connector for the GNSS antenna. </p> <p>The mosaic-T GNSS SMA connector is standard polarity and provides 3.3V power for an active antenna.</p> <p> The connection for the GNSS antenna to the mosaic-T. </p>"},{"location":"print_view/#inputoutput-terminals","title":"Input/Output Terminals","text":"<p>The GNSSDO is equipped with a 10-way 3.5mm screw cage terminal connector.</p> <p></p> <p>I/O Screw Terminal Connections.</p> <p></p> <p>I/O Screw Terminal Connections on the GNSSDO PCB.</p> <p>These terminals are described in the tabs below. For more information on the I/O terminals, you can refer to the schematic.</p> External PowerGNDmosaic-T <code>COM2</code>CTSEVENT BSCL2 &amp; SDA2 <p>The <code>VIN+</code> and <code>VIN-</code> terminals allow the GNSSDO to be powered by an external DC power source - typically a 12V / 24V vehicle battery.</p> <p> Terminal Function VIN+ External voltage: Min: 9V; Max: 36V VIN- Ground / Chassis / 0V <p></p> <p>Info</p> <p>The DC-DC converter in the GNSSDO provides 1.5kV isolation between <code>VIN+</code>/<code>VIN-</code> and 5V/GND. There is no direct electrical connection between <code>VIN-</code> and <code>GND</code>.</p> <p>Ground Loop</p> <p>If desired, users can link <code>VIN-</code> to the adjacent <code>GND</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p> <p>Ground / 0V or logic-low reference.</p> <p>Info</p> <p>The DC-DC converter in the GNSSDO provides 1.5kV isolation between <code>VIN+</code>/<code>VIN-</code> and 5V/GND. There is no direct electrical connection between <code>GND</code> and <code>VIN-</code>.</p> <p>Ground Loop</p> <p>If desired, users can link <code>GND</code> to the adjacent <code>VIN-</code> screw cage terminal. However, this will bypass the voltage isolation and could introduce an unwanted ground loop, particularly if the GNSS antenna ground (shield, 0V) is also connected to the chassis.</p> <p>The mosaic-T UART COM2 connections are connected as follows:</p> <p> Terminal Function Notes RX COM2 UART Receive - Input TX COM2 UART Transmit - Output RTS COM2 UART Request To Send - Output The module drives this pin low when ready to receive data CTS COM2 UART Clear To Send - Input Must be driven low when ready to receive data from the module <p></p> <p>Tip</p> <p>The COM2 I/O voltage is set by the VCCIO voltage selection switch.</p> <p>Tip</p> <p>The RX and CTS inputs have weak (100K) pull-ups to VCCIO.</p> <p>Tip</p> <p>The CTS terminal can be configured as a VCCIO power output by soldering the jumper closed on the PCB.</p> <p>The CTS terminal can be configured as a VCCIO power output by soldering the jumper closed on the PCB.</p> <p> VCCIO jumper. </p> <p>Tip</p> <p>Soldering the jumper closed will place the mosaic-T COM2 CTS into the high (not ready) state. Flow control (hardware handshaking) is not possible when the jumper is closed. Flow control is disabled by default. If needed, flow control can be (re)disabled through the web interface or by sending (e.g) scs, COM2, baud115200, bits8, No, bit1, none</p> <p>The VCCIO voltage can be set to 3.3V or 5V via the small internal slide switch highlighted below:</p> <p> VCCIO voltage selection switch. </p> <p>The <code>CTS</code> terminal can then be used as a power output or logic-high references. Likewise, the <code>GND</code> terminal can be used for power return or as logic-low references.</p> <p> Terminal Function CTS 3.3V or 5V power output or logic-high reference GND Ground / 0V or logic-low reference <p></p> <p>Info</p> <p>The default position of the <code>VCCIO</code> switch is 3.3V.</p> <p>Tip</p> <p>The <code>CTS</code> and <code>GND</code> pins could be used to power (e.g.) a LoRa module. When VCCIO is 3.3V, we recommend limiting the current draw from <code>VCCIO</code> to 200mA maximum. The upstream 3.3V regulator is rated at 600mA but it also provides power for the mosaic-T and Ethernet PHY. When VCCIO is set to 5V, the current draw can be higher - the suggested maximum is 500mA.</p> <p>The mosaic-T EVENTB input can be used to mark or timestamp external events:</p> <p> Terminal Function EVENTB Event B : Input <p></p> <p>Tip</p> <p>The EVENT B voltage level is set by the VCCIO voltage selection switch.</p> <p>Tip</p> <p>The EVENT B input is pulled low internally. Pull up to VCCIO to trigger an event.</p> <p>Tip</p> <p>An easy way to observe the events is with RxTools RxControl Expert Console (under Tools)  ExEvent tab:</p> <p> Capturing external events from EVENTA and EVENTB. </p> <p>The SCL2 and SDA2 screw terminals provide access to the TCXO I<sup>2</sup>C bus, allowing the user to connect an external configurable TCXO if desired. The I<sup>2</sup>C voltage level is set by the VCCIO switch: 3.3V or 5V. The provided firmware supports the SiTime SiT5358; the user will need to modify the firmware to support additional osciillators.</p> <p> Terminal Function SCL2 I2C Clock : Bidirectional SDA2 I2C Data : Bidirectional <p></p> <p>Tip</p> <p>The I<sup>2</sup>C voltage is set by the VCCIO voltage selection switch.</p>"},{"location":"print_view/#switches","title":"Switches","text":"<p>There are two miniature slide switches on the GNSSDO PCB:</p> <p></p> <p>Switches</p> <code>VCCIO</code><code>10MHz</code> <p>This switch sets the voltage of the Input Output Terminals (COM2 UART, Event B, SCL2 &amp; SDA2)</p> <ul> <li>The I/O voltage can be set to 3.3V (default) or 5V.</li> </ul> <p>This switch changes the function of the 10MHz SMA connector</p> <ul> <li>When set to <code>OUT</code> (default):<ul> <li>The SMA connector will output a 10MHz \"CMOS\" disciplined clock signal</li> <li>The signal voltage is set by the VCCIO voltage selection switch</li> </ul> </li> <li>When set to <code>IN</code>:<ul> <li>The user can apply a clock signal from an external 10MHz oscillator</li> <li>The input impedance is 50\u03a9</li> <li>The detection level is -14dBm</li> <li>The max supported input level is +12dBm</li> </ul> </li> </ul>"},{"location":"print_view/#status-leds","title":"Status LEDs","text":"<p>There are six status LEDs on the GNSSDO:</p> <ul> <li><code>PWR</code> - Power (Red)<ul> <li>Illuminates when power is applied</li> </ul> </li> <li><code>LOG</code> - \u00b5SD Logging (Red)<ul> <li>Solid Red - \u00b5SD card is mounted</li> <li>Blinking Red - Data is being logged</li> <li>Off - \u00b5SD is dismounted or not present</li> </ul> </li> <li><code>LOCK</code> - Oscillator Lock (Green)<ul> <li>The TCXO is locked to the correct frequency - as reported by PVTGeodetic RxClkBias</li> <li>Connected to ESP32 GPIO pin 33</li> </ul> </li> <li><code>PVT</code> - Position Velocity Time (Green)<ul> <li>Solid Green - The mosaic-T has valid Position, Velocity and Time</li> <li>Off - Satellite signal not present or acquired</li> </ul> </li> <li><code>ERROR</code> - GNSS Error (Yellow)<ul> <li>The GNSS Error status - as reported by PVTGeodetic Error</li> <li>Connected to ESP32 GPIO pin 32</li> </ul> </li> <li><code>RTK</code> - Real-Time Kinematic (Yellow)<ul> <li>This LED has little or no functionality on the GNSSDO as the mosaic-T uses PPP, not RTK</li> <li>Internally, it is connected to the mosaic-T GPLED2 pin</li> <li>It can be configured for (e.g.) TRACKLED if desired</li> </ul> </li> </ul> <p></p> <p>The status indicator LEDs on the GNSSDO.</p> <p></p> <p>The status indicator LEDs on the GNSSDO PCB.</p>"},{"location":"print_view/#oled-display","title":"OLED Display","text":"<p>The GNSSDO has a 128x64 pixel OLED display, controlled by the ESP32 via I<sup>2</sup>C. After some initial diagnostic messages, the display will show position, time and other data from the mosaic-T PVTGeodetic, ReceiverTime and IPStatus SBF blocks.</p> <p></p> <p>The OLED display on the GNSSDO.</p> <p></p> <p>OLED display (PNG) for the GNSSDO.</p> <ul> <li>Date &amp; Time : YYYY/MM/DD HH:MM:SS from ReceiverTime</li> <li>IP        : nnn.nnn.nnn.nnn from IPStatus IPAddress<ul> <li>When TCP console access is enabled, the TCP port number is also displayed.</li> </ul> </li> <li>Lat       : Latitude from PVTGeodetic (Degrees)</li> <li>Long      : Longitude from PVTGeodetic (Degrees)</li> <li>Sys       : TimeSystem from PVTGeodetic<ul> <li>GPS, Galileo, GLONASS, BeiDou, QZSS, Fugro</li> </ul> </li> <li>Error     : Error from PVTGeodetic<ul> <li>None, Measurements, Ephemerides, DOP, Residuals, Convergence, Outliers, Export, Differential, Base, Ambiguities</li> </ul> </li> <li>Fine      : FINETIME from ReceiverTime<ul> <li>False, True</li> </ul> </li> <li>PPS      : Indicates if the Pulse-Per-Second signal is being generated<ul> <li>Off, On</li> <li>PPS is only generated once the RxClkBias has achieved the required accuracy</li> </ul> </li> <li>Bias      : RxClkBias from PVTGeodetic (ms/us/ns)</li> </ul> <p>The display is updated on arrival of the ReceiverTime message. You may see a small lag between the display and the actual time system time, but it will be minimal.</p>"},{"location":"print_view/#buttons","title":"Buttons","text":"<p>There are three buttons on the GNSSDO: RESET, BOOT, and LOG.</p> <p></p> <p>Buttons on the GNSSDO.</p> <p></p> <p>Buttons on the GNSSDO PCB.</p> Septentrio logo mosaic-T: Data LoggingEspressif logo ESP32: ResetEspressif logo ESP32: Boot Control <p>Once a logging stream is defined, users can control the data logging operation through the LOG button.</p> <ul> <li>A short press of the LOG button (&lt; 5s) toggles data logging to the SD card on and off.<ul> <li>The red <code>LOG</code> LED will flash while logging is taking place.</li> </ul> </li> <li>Holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> <li>The SD card must be mounted to allow data logging by the mosaic-T</li> <li>When the SD card is unmounted, it is accessible as a mass storage device via the CONFIG MOSAIC USB-C interface<ul> <li>Files can be read and written over USB while the SD card is unmounted</li> </ul> </li> <li>You can enter commands using the <code>Admin \\ Expert Console</code> to:<ul> <li>Change what happens when the disk is full</li> <li>Change how the files are named</li> <li>Change the mounting / unmounting of the disk</li> </ul> </li> <li>Consult section 3.2.20 of the Firmware Reference Guide for more details</li> </ul> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> <p>The RESET button allows users to reset the firmware running on the ESP32-WROVER module without disconnecting the power.</p> <p>The BOOT button can be used to force the ESP32 into the serial bootloader. Holding down the BOOT button, while connecting the GNSSDO to a computer through its USB-C connector or resetting the board will cause it to enter the Firmware Download mode. The ESP32 will remain in this mode until it power cycles (happens automatically after uploading new firmware) or the RESET button is pressed.</p> <ol> <li>Hold the BOOT button down.</li> <li>Reset the MCU.<ul> <li>While unpowered, connect the board to a computer through the USB-C connection.</li> <li>While powered, press the RESET button.</li> </ul> </li> <li>Release the BOOT button.</li> <li>After programming is completed, reboot the MCU.<ul> <li>Press the RESET button.</li> <li>Power cycle the board.</li> </ul> </li> </ol>"},{"location":"print_view/#jumpers","title":"Jumpers","text":"Never modified a jumper before? <p>Check out our Jumper Pads and PCB Traces tutorial for a quick introduction!</p> <ul> <li> <p> <p>How to Work with Jumper Pads and PCB Traces</p> <p>There are several jumpers on the GNSSDO PCB which can be used to (e.g.) disable the LEDs or allow measurement of the board's current draw.</p> <p></p> <p>The jumpers on the top of the GNSSDO PCB.</p> <p></p> <p>The jumpers on the bottom of the GNSSDO PCB.</p> TopBottom <ul> <li>POE - This jumper can be used to disconnect the Power-over-Ethernet (PoE) module 50\u03a9 load.<ul> <li>The PoE module has a minimum load of 200mA. We included the 50\u03a9 load to ensure this is met. If you can ensure this by other means, open this jumper to disconnect the load.</li> </ul> </li> <li>Voltage Configuration: A-V<ul> <li>The jumper links A-V can be used to configure the voltage levels and impedance of the SMA connections. Please refer to the schematic for additional information.</li> <li>To configure the 10MHz output for 50 Ohms: open jumper A and close jumper D.<ul> <li>Jumper A is closed by default. Open it to select 50 Ohms for the 10MHz output.</li> <li>Jumper B is closed by default. It could be used to isolate the gate driving the 10MHz output. Advanced use only.</li> <li>Jumper C is open by default. It could be used to select the alternate gate for the 10MHz CMOS output. Advanced use only.</li> <li>Jumper D is open by default. Close it to select 50 Ohms for the 10MHz output.</li> </ul> </li> <li>To configure the PPS output for 50 Ohms: open jumper E and close jumper H.<ul> <li>Jumper E is closed by default. Open it to select 50 Ohms for the PPS output.</li> <li>Jumper F is closed by default. It could be used to isolate the gate driving the PPS output. Advanced use only.</li> <li>Jumper G is open by default. It could be used to select the alternate gate for the PPS CMOS output. Advanced use only.</li> <li>Jumper H is open by default. Close it to select 50 Ohms for the PPS output.</li> </ul> </li> <li>Jumpers J,K,L configure the voltage of the Event A input.<ul> <li>Jumper J is closed by default. It selects VCCIO as the Event A input voltage.</li> <li>Jumper K is open by default. Open jumper J and close jumper K to configure Event A for 2.8V.</li> <li>Jumper L is open by default. Open jumper J and close jumper L to configure Event A for 1.8V.</li> </ul> </li> <li>Jumpers M,N,P configure the voltage of the PPS output.<ul> <li>Jumper M is closed by default. It selects VCCIO as the PPS output voltage.</li> <li>Jumper N is open by default. Open jumper M and close jumper N to configure PPS for 2.8V.</li> <li>Jumper P is open by default. Open jumper M and close jumper P to configure PPS for 1.8V.</li> </ul> </li> <li>Jumpers R,S,T configure the voltage of the 10MHz output.<ul> <li>Jumper R is closed by default. It selects VCCIO as the 10MHz output voltage.</li> <li>Jumper S is open by default. Open jumper R and close jumper S to configure 10MHz for 2.8V output.</li> <li>Jumper T is open by default. Open jumper R and close jumper T to configure 10MHz for 1.8V output.</li> </ul> </li> <li>Jumper U can be used to isolate the on-board 10MHz TCXO.<ul> <li>Open jumper U when connecting an alternate TCXO via the breakout pads on the PCB. Advanced use only.</li> </ul> </li> <li>To configure the Event A input for 50 Ohms: close jumper V.<ul> <li>Jumper V is open by default. Close it to select 50 Ohms for the Event A input.</li> </ul> </li> </ul> </li> </ul> <ul> <li>LED Jumpers<ul> <li>LINK - open this jumper to disable the Ethernet Link LED.</li> <li>SPEED - open this jumper to disable the Ethernet Speed LED.</li> <li>RTK - open this jumper to disable the mosaic-T Real-Time Kinetic LED.</li> <li>PVT - open this jumper to disable the mosaic-T Position Velocity Time LED.</li> <li>LOG - open this jumper to disable the mosaic-T Log LED.</li> <li>ERROR - open this jumper to disable the GNSS error LED.</li> <li>LOCK - open this jumper to disable the TCXO lock LED.</li> <li>PWR - open this jumper to disable the Power LED.</li> </ul> </li> <li>Button Jumpers<ul> <li>BOOT - open this jumper to disconnect the ESP32 BOOT pushbutton.</li> <li>RESET - open this jumper to disconnect the ESP32 RESET pushbutton.</li> </ul> </li> <li>SHLD (x2) - open these jumpers to isolate the USB-C connector shield from GND.</li> <li>I<sup>2</sup>C (x2) - open these dual jumpers to disconnect the pull-ups for the I<sup>2</sup>C buses.<ul> <li>Note: there are separate jumpers for the two I<sup>2</sup>C buses: OLED (Qwiic); and the SiTime TCXO.</li> </ul> </li> <li>VIN+ and VIN-<ul> <li>Open these jumpers if you wish to isolate (disconnect) the external DC power terminals. The breakout pads can then be used to feed in power from an alternate source.</li> </ul> </li> <li>POE+ and POE-<ul> <li>Open these jumpers if you wish to isolate (disconnect) the Power-over-Ethernet pins on the MOSAIC Ethernet magjack. The breakout pads can then be used to feed in power from an alternate source.</li> </ul> </li> <li>VCCIO<ul> <li>The VCCIO jumper can be soldered closed to connect the CTS screw terminal to VCCIO. CTS can then be used as a power output. The voltage is set by the VCCIO slide switch.</li> </ul> </li> <li>MEAS<ul> <li>Open the MEAS jumper if you wish to measure the total current drawn by the GNSSDO, or (e.g.) wish to add an ON/OFF switch. The breakout pads can then be used to attach a multimeter or a mechanical power switch.</li> <li>MEAS is upstream of the two 3.3V regulators and downstream of the four power source combination and protection diodes.</li> </ul> </li> </ul>"},{"location":"print_view/#hardware-assembly","title":"Hardware Assembly","text":"<p>Warning</p> <p>When assembling the GNSSDO, users should attach any power connections last. While there shouldn't be any issues with hot-swapping peripherals, it is common practice to power electronics as the last step of the assembly process (and the power should be disconnected before removing components).</p> What is in the Box? <p>The SparkPNT GNSSDO comes packaged as a complete kit, with all the accessories you'd need to set it up.</p> <p>  Everything that is included in the SparkPNT GNSSDO kit.  </p> <p>Inside the kit, users will find the SparkPNT GNSSDO, GNSS antenna, USB-C cable, CAT-6 Ethernet cable, and another box containing additional accessories. Inside the accessory box, users will find the SMA to TNC cable, SMA to BNC cable, USB PD wall adapter, a pack of silicone bumpers, and a 32GB SD card.</p>"},{"location":"print_view/#usb-c-ports","title":"USB-C Ports","text":"<p>The USB ports are utilized to configure the mosaic-T module and ESP32 firmware settings. Additionally, the USB ports can also be used as a power source for the GNSSDO.</p> <p></p> <p>The GNSSDO with USB-C cable being attached.</p> <p>The USB port to the mosaic-T can be used to configure the module through an IP port, for serial communication to stream the GNSS data, and access the SD card as a mass storage device. To connect to the mosaic-T, users only need to plug a USB-C cable into the <code>CONFIG MOSAIC</code> USB port and their computer.</p> <p></p> <p>The GNSSDO with USB-C cable being attached.</p> <p>With the default firmware, the USB port for the ESP32 is used for serial communication to tune the parameters for the TCXO oscillator and the Pulse-Per-Second output. To configure the settings, users only need to plug a USB-C cable into the <code>CONFIG ESP32</code> USB port and their computer, and then open a terminal emulator at 115200 baud.</p> <p>Software Requirements</p> <p>Depending on their computer's operating system, users may need to install USB drivers to interface with the mosaic-T and/or the ESP32. Users may also need to install a terminal emulator for serial communication with the mosaic-T and the ESP32.</p>"},{"location":"print_view/#gnss-antenna","title":"GNSS Antenna","text":"<p>In order to receive GNSS signals, users will need a compatible antenna. With the parts included in this kit, connect the L1/L2/L5 (tri-band) GNSS antenna to the GNSSDO using the TNC-to-SMA cable.</p> <p></p> <p>Attaching a TNC-SMA cable to the <code>GNSS</code> SMA connector on the GNSSDO.</p> <p></p> <p>Attaching a tri-band GNSS antenna to the TNC-SMA cable.</p> Mounting Location <p>Users should mount their GNSS antenna outside, where it will have a clear, unobstructed view of the sky. Avoid areas with nearby buildings, EMF structures (i.e. radio towers or power lines), and vegetation (i.e. trees). These objects can increase errors due to signal muti-path, interference, and elevated noise plane.</p> <p> The tri-band GPS antenna, mounted outside with an unobstructed view of the sky. </p> Connector Polarity <p>When selecting antennas and/or cables for the GNSSDO, double-check the polarity of the connection.</p>"},{"location":"print_view/#ethernet-jack","title":"Ethernet Jack","text":"<p>There is a single ethernet jack on the GNSSDO, which can be used to provide network access to the mosaic-T module. It supports power over ethernet (PoE) to power the device. To provide network access, users should connect the GNSSDO from the <code>ETHERNET (PoE)</code> jack to their local network with the (CAT-6) ethernet cable provided in the kit.</p> <ul> <li>To power the device, a PoE network switch or PoE injector should be installed in between the network connection to the GNSSDO.</li> </ul> <p></p> <p>The GNSSDO with ethernet cable being attached to the <code>ETHERNET (PoE)</code> jack.</p> Configuration: mosaic-T Settings <p>Users can configure the mosaic-T module through the network connection.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the CONFIG MOSAIC USB-C port and open 192.168.3.1 on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (0.0.0.0), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (192.168.3.***), please change its settings so it uses a different subnet.</p>"},{"location":"print_view/#10mhz-signal","title":"10MHz Signal","text":"<p>For timing applications, we have broken out the TCXO 10MHz signal to an SMA connector. In our kit, users will find an SMA to BNC adapter cable that they can use to hookup this signal to their equipment. If necessary, users can add an SMA extension cable to reach their equipment.</p> <p></p> <p>Attaching a cable to the <code>10MHz</code> SMA connector on the GNSSDO.</p>"},{"location":"print_view/#sd-card-slot","title":"SD Card Slot","text":"<p>A \u00b5SD card slot is available for users to log and store data, locally on the board. Users will need to insert a compatible SD card and configure the mosaic-T module for data logging.</p> <p></p> <p>Inserting an SD card into the GNSSDO.</p> <p>SD Card Compatibility</p> <p>The mosaic-T supports \u00b5SD cards with a FAT32 file system (i.e. only cards up to 32GB in size).</p> Initial Configuration <p>Before logging can take place, it is necessary to define a \"logging stream\" using the Logging page or RxTools. Streams can contain NMEA or SBF (Septentrio Binary Format) data; SBF can contain RTCM and/or RINEX.</p> <p> microSD logging stream configuration. </p> <p>Instructional Video</p> <p> How to log data to the SD card of the Septentrio mosaic receiver module</p> Button Operation <p>There are multiple ways to configure and enable data logging to an SD card. However, the simplest method is with the LOG button. Once the stream is defined,</p> <ul> <li>Pressing the LOG button (&lt; 5s) toggles data logging to the SD card on and off.</li> <li>Holding the LOG button for more than 5 seconds (&gt; 5s) and then releasing it, will force the board to:<ul> <li>Unmount the SD card if it was mounted</li> <li>Mount the SD card if it was unmounted</li> </ul> </li> </ul> <p>For more information, please reference the SD Card Slot section.</p>"},{"location":"print_view/#io-terminals","title":"IO Terminals","text":"<p>Users can easily attach accessories to the GNSSDO by wiring them into the terminal blocks on the back of the enclosure.</p> <p></p> <p>Connecting a wire to the terminal block.</p> Multiple Connections <p>For multiple connections or wiring harnesses, users can disconnect the terminal block from its socket on the GNSSDO.</p> <p> Components of the terminal block. </p> <p>Users can wiggle or use a soft/rigid object to carefully pry the terminal block off from its connector. In the picture below, a plastic name tag (~1.5mm thick) is used to carefully pry the terminal block up. We have also found the edge of a PCB ruler works great too.</p> <p> Using a soft/rigid object to carefully pry the terminal block free from its socket. </p> <p>Once wired up, users can simply push the terminal block back into its socket.</p> <p> Connecting a wire to the terminal block. </p> <p> Attaching the terminal block to its socket on the GNSSDO. </p> <p>Warning</p> <p>To avoid shorts or damaging the GNSSDO, verify the wiring with the labels on the back of the enclosure.</p>"},{"location":"print_view/#software-overview","title":"Software Overview","text":"<p>ESP32 Firmware</p> <p>We have intentionally kept the ESP32 firmware as simple as possible - its only tasks are to: discipline the TCXO oscillator; control the OLED display. The intention is that you can easily develop your own firmware for the GNSSDO if the SparkFun firmware does not meet your needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>You can of course modify the hardware too, should you want to. The design is completely open-source.</p> <p>Note</p> <p>The mosaic-T module has numerous capabilities and a multitude of ways to configure and interface with them. Without regurgitating all the information that is documented in Septentrio's user manuals and videos, we have tried to highlight a good majority of the module's aspects.</p> <p>With that said, please feel free to file an issue if you feel we have missed something that may benefit other users. (Don't forget to provide us with a link to the documentation and what section the information is located.)</p>"},{"location":"print_view/#septentrio-logo-mosaic-t_1","title":"Septentrio logo mosaic-T","text":""},{"location":"print_view/#rxtools-software-suite","title":"RxTools Software Suite","text":"<p>Tip</p> <p>Even if you aren't necessarily interested in it, we highly recommend that users install the RXTools software suite before plugging in their board. For Windows PCs, it also includes the USB driver for the module that enables the Ethernet-over-USB support and virtual <code>COM</code> ports.</p> <p>Users should install the RXTools software suite on their computer to interact with the mosaic-T module through the USB interface. The software package includes the USB-IP driver<sup>1</sup> necessary to recognize the board as an ethernet device on Windows PCs (1).</p> <ol> <li>On Linux, the standard Linux CDC-ACM driver is suitable.</li> </ol> <p>  Download the RxTools Software from Septentrio </p> System Requirements<sup>2</sup> Operating SystemsHardware Requirements <ul> <li>Windows 7</li> <li>Windows 8</li> <li>Windows 10</li> <li>Fedora 23 (or later) using Qt technology.<ul> <li>The standalone tools (except <code>bin2asc</code>) will run on older distributions.</li> </ul> </li> </ul> <p>The minimal hardware requirements (1Hz update<sup>3</sup>):</p> <ul> <li>CPU: 1 GHz processor</li> <li>RAM: 1 GB RAM</li> <li>Screen Resolution: 1024\u00d7768 or higher resolution</li> </ul> Installation Instructions<sup>2</sup> WindowsLinux<sup>1</sup> <p>Users can install RxTools software suite by running the installation executable<sup>4</sup>(1), located in the <code>RxTools\\windows</code> directory of the downloaded <code>*.zip</code> file<sup>5</sup>. During the installation process, users will be notified if a previous version of RxTools is already installed then the previous version will be uninstalled. Next, users will need to provide an installation directory for the RxTools software suite. Users will then select which of the following applications<sup>6</sup> are installed:</p> <ol> <li>For RxTools v22.1.0, the installation filename is <code>RxTools_22_1_0_Installer.exe</code> for Windows PCs.</li> </ol> <ul> <li>RxControl</li> <li>SBF Converter</li> <li>SBF Analyzer</li> <li>RxLogger</li> </ul> <ul> <li>RxUpgrade</li> <li>RxDownload</li> <li>RxPlanner</li> </ul> <ul> <li>Data Link</li> <li>RxAssistant</li> <li>RxLauncher</li> </ul> <p>Warning</p> <p>It is recommended that users NOT install RxControl as <code>root</code>, for security reasons and to avoid installation overwrites of other system settings. To make RxTools available to more than one user, provide a shared installation directory.</p> <p>Users can install RxTools software suite by running the installation binary<sup>4</sup>(1), located in the <code>RxTools/linux-i386/</code> directory of the downloaded <code>*.zip</code> file<sup>5</sup>. During the installation, users will be prompted for an installation directory. If there are any previous installations of RxControl, please use a different directory to avoid conflicts.</p> <ol> <li>For RxTools v22.1.0, the installation filename is <code>RxTools_22_1_0_Installer.bin</code> for Linux.</li> </ol> Permission Settings <p>Once installed, users may need to reconfigure their permission settings:</p> <ul> <li> <p>RxTools will need rights to access the <code>/dev/ttyS*</code> serial ports.</p> <ul> <li> <p>To access the serial ports, users must be part of the <code>uucp</code> and <code>lock</code> groups (1). This can be configured by editing the <code>/etc/group</code><sup>7</sup> file and adding the username to the lines defining the <code>uucp</code> group and the <code>lock</code> group.</p> <p>For example, when adding the user <code>jsmith</code> to the <code>uucp</code> group, users would modify the <code>/etc/group</code> file as shown below:</p> <pre><code>uucp:x:14:uucp # (2)!\nuucp:x:14:uucp,jsmith # (3)!\n</code></pre> </li> <li> <p>On Linux machine administered centrally on a local network, ask your system administrator to be included in the <code>uucp</code> and <code>lock</code> groups.</p> </li> </ul> </li> <li> <p>RxTools also needs read/write (<code>rw</code>) access(4) to the <code>/dev/ttyS*</code> serial ports.</p> <ul> <li> <p>Users can change the permissions with the <code>chmod</code><sup>8</sup> command:</p> <pre><code>chmod 660 /dev/ttyS&lt;add port&gt; # (5)!&gt;\n</code></pre> </li> </ul> </li> </ul> <ol> <li>On most Linux operating systems, the <code>/dev/ttyS*</code> devices are owned by <code>root</code> and belong to the <code>uucp</code> group with read/write (<code>rw</code>) access. Additionally, the devices are normally locked by writing a file in the <code>/var/lock/</code> directory, with the same permissions.</li> <li>Remove</li> <li>Replace with this line</li> <li>By default, users will normally have read/write (<code>rw</code>) access to the <code>/dev/ttyS*</code> serial ports.</li> <li>where users must specify the port numbere.g. <code>/dev/ttyS0</code> might be port <code>COM1</code></li> </ol> <p>Note</p> <p>In order for these changes to take effect, users must update their environment by logging out and back in.</p> <p>Be aware that the X-session has to be restarted as well. On most systems, this can be done by pressing the key combination Ctrl + Alt + Backspace</p> 64-bit OS <p>In order to run the RxTools on a 64-bit Linux operating system, users might have to install the 32-bit version of the <code>C</code> standard library.</p> <ul> <li>For Fedora installations, this is the <code>glibc.i686</code> package.</li> <li>The equivalent for Debian(/Ubuntu) installations is the <code>ia32-libs</code> package.</li> </ul>"},{"location":"print_view/#septentrio-usb-driver","title":"Septentrio USB Driver","text":"WindowsLinux <p>If users haven't already installed the RxTools software suite on their Windows PC, they will need to install the USB driver<sup>1</sup> necessary to recognize and interact with the mosaic-T module through the USB interface.</p> <p>A Windows USB driver for the mosaic-T can be installed through two methods:</p> <ul> <li>RxTools Software Suite (1)</li> <li>mosaic-T GNSS Receiver Module (2)</li> </ul> <ol> <li>The driver is installed during the installation process.</li> <li>The installation file for the Windows USB driver will be available from the mass-storage device when the board is initially connected to the computer.</li> </ol> <p>Once installed, the driver emulates two virtual serial ports, which can be accessed as standard <code>COM</code> ports to the receiver.</p> Terminal Emulators <p>Most terminal emulation programs will not make a distinction between virtual or native COM ports. However, for virtual serial ports, the port settings (i.e. baud rate, etc.) are not relevant and the default configuration is used in the terminal emulation program. However, the physical/native <code>COM</code> ports will have the following default setting:</p> <ul> <li>Baudrate: 115200bps</li> <li>Data Bits: 8</li> <li>Parity: No</li> <li>Stop Bits: 1</li> <li>Flow Control: None</li> </ul> Having Trouble? <p>For users who are having trouble installing the USB driver, we have an archived version (v3.0.2<sup>9</sup>) of the installation file. Users can download version 3.0.2 of the driver, by clicking on the button below.</p> <p>  Download USB Driver (v3.0.2) </p> <p>On Linux, the standard Linux CDC-ACM driver is suitable for the mosaic-T module.</p>"},{"location":"print_view/#web-interface","title":"Web Interface","text":"<p>With the USB driver installed, the mosaic-T module supports Ethernet-over-USB. The default IP address allocated for the Ethernet-over-USB interface is <code>192.168.3.1</code>. This IP can be entered in any browser to open a connection to the receiver's Web Interface as shown below.</p> <p></p> <p>All the drop-down navigation tabs in the web interface.</p> <p> <p></p> <p>Info</p> <p>The default IP address cannot be changed; this feature is only to be used when a single receiver is connected to your computer.</p> Invalid IP Address (WiFi Only) <p>One of the documentation pages on Septentrio's website, specifies a default IP address of <code>192.168.20.1</code> for the web interface. However, that address is for a WiFi enabled product and cannot be used with this product.</p>"},{"location":"print_view/#espressif-logo-esp32","title":"Espressif logo ESP32","text":""},{"location":"print_view/#ch340-usb-driver","title":"CH340 USB Driver","text":"<p>Users will need to install a USB driver for the CH340 serial-to-USB chip, in order to communicate with the ESP32 module.    The latest USB drivers for the CH340 are available from the manufacturer, on the WCH website:</p> <p>  Download the latest CH340 USB driver from WCH </p> Need Directions? <p>For users having trouble installing the CH340 USB driver, check out our video and hookup guide:</p> <p> </p> <ul> <li> <p> <p>How to Install CH340 Drivers</p>"},{"location":"print_view/#terminal-emulator","title":"Terminal Emulator","text":"<p>In order to configure the firmware settings on the ESP32, users will need to install a serial terminal emulator on their computer.</p> WindowsLinux <p>For Windows computers, we highly recommend TeraTerm.</p> <p>Some Linux operating systems will already have the <code>screen</code> terminal emulator preinstalled.</p> <p>Need Directions?</p> <p>Check out our hookup guide to install your favorite terminal emulator:</p> <ul> <li> <p> <p>Serial Terminal Basics</p>"},{"location":"print_view/#software-settings","title":"Software Settings","text":"<p>When connected to the ESP32 CH340 COM port at 115200 baud, pressing any key in the terminal emulator will open the firmware Main Menu:</p> <p></p> <p>The ESP32 firmware main menu.</p>"},{"location":"print_view/#configure-operation","title":"Configure Operation","text":"<p>Select option c (\"c\" followed by \"Enter\") to configure the firmware:</p> <p></p> <p>The ESP32 firmware configuration menu.</p> <ul> <li>1) RX Clock Bias Lock Limit<ul> <li>This allows the clock bias limit to be set. The units are milliseconds.</li> <li>The LOCK LED will illuminate when the bias is below this limit.</li> <li>PPS output will begin when the bias has been below this limit for RX Clock Bias Limit Count seconds.</li> </ul> </li> <li>2) RX Clock Bias Initial Limit<ul> <li>This allows the initial clock bias limit to be set. The units are milliseconds.</li> <li>The firmware will soft-reset the GNSS if the clock bias is above this limit for RX Clock Bias Limit Count seconds.</li> <li>This allows the firmware to restart the GNSS and re-sync the TCXO if the initial bias is excessive.</li> </ul> </li> <li>3) RX Clock Bias Limit Count<ul> <li>This defines how many consecutive 1Hz samples are needed to trigger the two clock bias limits.</li> </ul> </li> <li>4) Pk (PI P term)<ul> <li>This defines the Proportional term for the TCXO frequency PI control loop. Default is 0.63</li> <li>This value was determined using approximate Ziegler-Nichols tuning of the SiT5358 loop.</li> </ul> </li> <li>5) Ik (PI I term)<ul> <li>This defines the Integral term for the TCXO frequency PI control loop. Default is 0.151</li> <li>This value was determined using approximate Ziegler-Nichols tuning of the SiT5358 loop.</li> </ul> </li> <li>6) Prefer non-composite GPS bias<ul> <li>With a subscription to Fugro AtomiChron, this option allows the individual GPS clock bias to be preferred over the composite Fugro bias.</li> <li>You can enable a preference for either GPS or Galileo. Enabling GPS will disable Galileo.</li> </ul> </li> <li>7) Prefer non-composite Galileo bias<ul> <li>With a subscription to Fugro AtomiChron, this option allows the individual Galileo clock bias to be preferred over the composite Fugro bias.</li> <li>You can enable a preference for either GPS or Galileo. Enabling Galileo will disable GPS.</li> </ul> </li> <li>8) Pulse-Per-Second Interval<ul> <li>This defines the interval of the PPS signal. The intervals are defined by the mosiac-T firmware. Use \"8\" and \"Enter\" to scroll through the intervals:<ul> <li>\"off\"</li> <li>\"msec10\"</li> <li>\"msec20\"</li> <li>\"msec50\"</li> <li>\"msec100\"</li> <li>\"msec200\"</li> <li>\"msec250\"</li> <li>\"msec500\"</li> <li>\"sec1\"</li> <li>\"sec2\"</li> <li>\"sec4\"</li> <li>\"sec5\"</li> <li>\"sec10\"</li> <li>\"sec30\"</li> <li>\"sec60\"</li> </ul> </li> </ul> </li> <li>9) Pulse-Per-Second Polarity<ul> <li>This defines the PPS signal polarity: Low2High or High2Low</li> </ul> </li> <li>10) Pulse-Per-Second Delay<ul> <li>This allows the timing of the PPS signal to be advanced or retarded. The units are nanoseconds.</li> </ul> </li> <li>11) Pulse-Per-Second Time Scale<ul> <li>This defines which time scale is used to generate the PPS signal.<ul> <li>\"GPS\"</li> <li>\"Galileo\"</li> <li>\"BeiDou\"</li> <li>\"GLONASS\"</li> <li>\"UTC\"</li> <li>\"RxClock\"</li> </ul> </li> </ul> </li> <li>12) Pulse-Per-Second Max Sync Age<ul> <li>This defines how long PPS pulses will be produced when the GNSS signal is lost or jammed: 0 to 3600 seconds.</li> </ul> </li> <li>13) Pulse-Per-Second Pulse Width<ul> <li>This defines the width of the PPS signal. The units are milliseconds: 0.000001 to 1000.000000.</li> </ul> </li> <li>14) TCP Server (IPS1)<ul> <li>See TCP Server (IPS1) below for more details</li> </ul> </li> <li>15) TCP Server Port<ul> <li>The port for the TCP connection. Default is 28785.</li> </ul> </li> </ul> <p>To reset all settings to their default values, select \"r\", \"Enter\", \"y\", \"Enter\"</p> <p>The settings are saved to non-volatile memory (NVM, LittleFS) on exiting the menu. Ensure you fully exit the menu (\"x\", \"Enter\", \"x\", \"Enter\") to save any modified settings.</p> <p>The TCXO frequency control word is saved to NVM once per hour, to allow a quicker startup at the next power-on.</p>"},{"location":"print_view/#tcp-server-ips1","title":"TCP Server (IPS1)","text":"<p>When TCP Server (IPS1) is enabled, the ESP32 serial console is diverted from the CH340 USB (CONFIG ESP32) interface to the mosaic-T COM3 UART interface and daisy chained to the IPS1 TCP server. The configuration menu and debug messages can then be accessed over TCP / Telnet on the chosen port. The CH340 USB (CONFIG ESP32) interface is then no longer active.</p> <p>TCP / Telnet is supported over both Ethernet and the Ethernet-over-USB connection. Only one TCP2Way connection is supported.</p> <p>If you are using Tera Term:</p> <ul> <li>Select TCP/IP and Telnet</li> <li>Enter the mosaic-T's IP address in Host<ul> <li>If you are connected via the CONFIG MOSAIC Ethernet-over-USB interface, the IP address is 192.168.3.1</li> </ul> </li> <li>Enter the TCP Server Port number in TCP port#<ul> <li>The default port is 28785</li> </ul> </li> </ul> <p></p> <p>Tera Term configuration for TCP.</p>"},{"location":"print_view/#debug-software","title":"Debug Software","text":"<p>Select option d (\"d\" followed by \"Enter\") to configure the software debug options:</p> <p></p> <p>The ESP32 firmware debug menu.</p> <p>The debug options are what we use at SparkFun to check that the firmware is running correctly. You should not need change any of the options, except perhaps option 8 Print conditions. This option controls the periodic CSV messages seen in the console when the menu is closed. The format can be changed to human-readable text, or the messages can be disabled if desired.</p>"},{"location":"print_view/#print-conditions-periodic-messages","title":"Print Conditions (periodic messages)","text":"<p>The format of the Print conditions CSV data is:</p> <p>YYYY/MM/DD,HH:MM:SS,Epoch,Lat,Lon,Alt,TimeSys,Error,Fine,PPS,Bias,Source,TCXO,Pk,Ik</p> <ul> <li>YYYY/MM/DD is the date from the ReceiverTime SBF message</li> <li>HH:MM:SS is the time from the ReceiverTime SBF message</li> <li>Epoch is the date and time in Unix epoch format: seconds.milliseconds from midnight UTC January 1st 1970. This is useful when plotting the data against time.</li> <li>Lat is the Latitude in degrees from the PVTGeodetic SBF message (7 decimal places)</li> <li>Lon is the Longitude in degrees from the PVTGeodetic SBF message (7 decimal places)</li> <li>Alt is the Altitude in metres from the PVTGeodetic SBF message (0.1mm resolution)</li> <li>TimeSys is the named TimeSystem from the PVTGeodetic SBF message</li> <li>Error is the Error byte from the PVTGeodetic SBF message. 0 indicates no error</li> <li>Fine is the FINETIME bit from the SyncLevel byte from the ReceiverTime SBF message</li> <li>PPS indicates if the Pulse-Per-Second output is enabled<ul> <li>PPS is enabled when the RxClkBias reaches the required accuracy, set by RX Clock Bias Lock Limit</li> </ul> </li> <li>Bias is the receiver clock bias in seconds</li> <li>Source is the source of the receiver clock bias reported in Bias<ul> <li>By default, this is PVT indicating the source is the composite RxClkBias from the PVTGeodetic SBF message</li> <li>If AtomiChron is enabled and if Prefer non-composite GPS bias or Prefer non-composite Galileo bias has been selected, this will change to GPS or Galileo indicating that the individual non-composite bias from the FugroTimeOffset SBF message is available and is being used</li> </ul> </li> <li>TCXO is the 26-bit signed frequency control word written to the SiT5358 TCXO</li> <li>Pk is the PI control loop Proportional term - set in the configuration menu</li> <li>Ik is the PI control loop Integral term - set in the configuration menu</li> </ul>"},{"location":"print_view/#tcxo-oscillator","title":"TCXO Oscillator","text":""},{"location":"print_view/#sitime-sit5358-disciplined-oscillator","title":"SiTime SiT5358 Disciplined Oscillator","text":"<p>SiT5358 TCXO Oscillator.</p> <p>For the best frequency accuracy, stability and holdover, the SparkPNT GNSSDO utilizes a SiTime SiT5358 Digitally-Controlled Temperature-Controlled Crystal Oscillator (DCTCXO). The SiT5358 is a precision MEMS Super-TCXO optimized for \u00b150 ppb stability from -40\u00b0C to 105\u00b0C. Engineered for best dynamic performance, it is ideal for high reliability telecom, wireless and networking, industrial, precision GNSS and audio/video applications.</p> <ul> <li>SiT5358AI-FS033IT-10.000000 10MHz DCTCXO</li> <li>\u00b150ppb stability</li> <li>\u00b11ppb/\u00b0C frequency slope</li> <li>\u00b158ppb typical 20-year aging</li> <li>Allan Deviation approaches 1E-14 at 10000 seconds with AtomiChron enabled</li> <li>Digital frequency pulling via I\u00b2C</li> <li>Operating temperature: -40 to 85 \u00b0C (Industrial)</li> </ul> <p>The SiT5358 is interfaced to the mosaic-T through a level-shifting buffer, replacing the mosaic's internal oscillator and allowing the oscillator frequency to be tuned (disciplined) under software control. The 10 MHz SMA output is generated by a duplicate level-shifter to ensure an equal delay and identical thermal phase changes.</p>"},{"location":"print_view/#software-control-loop","title":"Software Control Loop","text":"<p>The SiT5358 is interfaced to the mosaic-T according to Appendix D of the mosaic Hardware Manual: \"mosaic-Based Disciplined Clock\".</p> <p>The ESP32 is interfaced to three of the mosaic-T's COM (UART) ports: <code>COM1</code>, <code>COM3</code>, and <code>COM4</code>. The ESP32 configures the mosaic-T via <code>COM4</code>. <code>COM1</code> is dedicated as an output port for the SBF blocks used to tune the oscillator frequency. <code>COM3</code> is used to divert the ESP32 serial console to TCP.</p> <p>When the firmware boots, the mosaic-T is configured as follows:</p> <pre><code>setPPSParameters, off\nsetClockSyncThreshold, usec500, on\nsetSBFGroups, Group1, PVTGeodetic+ReceiverTime\nsetSBFOutput, Stream1, COM1, Group1, sec1\nsetSBFOutput, Stream2, COM1, IPStatus+FugroTimeOffset, OnChange\nexeCopyConfigFile, Current, Boot\n</code></pre> <p>These commands configure the mosaic so that it: starts-up with the PPS pulses disabled; performs an initial precise synchronization to GNSS time; and outputs the PVTGeodetic and ReceiverTime blocks on COM1 at 1Hz. IPStatus is output each time one or more IP parameters change. With a Fugro Atomichron subscription, the FugroTimeOffset message will be generated each time one of the clock biases changes.</p> <p>The firmware monitors the message blocks on <code>COM1</code>. The <code>ERROR</code> LED follows the PVTGeodetic Error code. The LED is extinguished when Error is zero.</p> <p>The firmware waits until the ReceiverTime SyncLevel FINETIME bit is set, indicating that the receiver time initialization is complete. Once the FINETIME bit is set, it remains set until the next reset of the receiver.</p> <p>The firmware then monitors the PVTGeodetic RxClkBias (as 64-bit float in milliseconds). When RxClkBias is positive, receiver time is ahead of system time and the oscillator frequency should be reduced. When RxClkBias is negative, receiver time is behind system time and the oscillator frequency should be increased. The firmware will adjust the SiT5358 oscillator frequency via the 26-bit Digital Frequency Control register accordingly. As per Appendix D, the frequency will be changed by no more than 3ppb per second.</p> <p>The Proportional (P) and Integral (I) terms can be adjusted via the ESP32 firmware settings.</p> <p>The <code>LOCK</code> LED will illuminate and PPS pulses will be generated when RxClkBias is less than 10ns. The OLED will show <code>PPS On</code> when pulses are being generated.</p> <p>The 10ns lock threshold / limit can be changed by the user through the ESP32 USB-C interface and saved in non-volatile memory.</p> <p>The Pulse-Per-Second parameters can also be configured by the user through the ESP32 firmware settings: interval, polarity, delay, time scale, max sync age, pulse width.</p> <pre><code>setPPSParameters, Interval, Polarity, Delay, TimeScale, MaxSyncAge, PulseWidth\n</code></pre> <p>Should PVTGeodetic Error indicate an error (i.e. become non-zero), the loop will continue but no changes will be made to the oscillator frequency until the error is cleared.</p> <p>Occasionally, the initial mosaic-T clock bias can be excessive - microseconds rather than nanoseconds. The firmware detects this and will restart the GNSS to achieve a better lock. You will see <code>Bad RxClkBias --- Restarting</code> appear on the OLED when this happens. The threshold for this can be adjusted via the ESP32 firmware settings.</p>"},{"location":"print_view/#enable-the-l5-band","title":"Enable the L5 Band","text":"<p>The mosaic-T is L5-capable but, because the GPS L5 service is currently pre-operational and marked as \"unhealthy\", it takes some extra configuration steps to enable L5. The GNSSDO firmware enables L5 reception by default. Here are the configuration steps in case you need to configure L5 manually.</p>"},{"location":"print_view/#web-interface_1","title":"Web Interface","text":"<p>Admin &gt; Expert Control &gt; Control Panel &gt; Navigation &gt; Receiver Operation &gt; Masks - Set \"Discard unhealthy satellites\" to off for both \"Tracking\" and \"PVT\"</p> <p></p> <p>L5 Configuration - Step 1 (PNG).</p> <p>Navigation &gt; Advance User Settings &gt; Tracking &gt; Signal Tracking : Enable GPSL5 signal tracking</p> <p></p> <p>L5 Configuration - Step 2 (PNG).</p> <p>Navigation &gt; Advance User Settings &gt; PVT &gt; Signal Usage - Enable GPSL5 in both \u201cPVT\u201d and \u201cnavigation data decoder\u201d</p> <p></p> <p>L5 Configuration - Step 3 (PNG).</p> <p>Info</p> <p>Make sure to click \u201cOK\u201d at the bottom of each page where you are making changes to update the current configuration, and don\u2019t forget to save it to boot if you want the configuration to persist when you cycle power.</p>"},{"location":"print_view/#command-interface","title":"Command Interface","text":"<ul> <li><code>setHealthMask, Tracking, off</code></li> <li><code>setHealthMask, PVT, off</code></li> <li><code>setSignalTracking, +GPSL5</code></li> <li><code>setSignalUsage, +GPSL5, +GPSL5</code></li> </ul>"},{"location":"print_view/#resources","title":"Resources","text":""},{"location":"print_view/#product-resources","title":"Product Resources","text":"<ul> <li>SparkFun logo Product Page</li> <li>Quick Start Guide</li> <li> Design Files:<ul> <li> Schematic</li> <li> Board Dimensions</li> <li> Enclosure Dimensions</li> <li> ESP32 Firmware</li> </ul> </li> <li>Datasheets:<ul> <li> mosaic-T Datasheet</li> <li> SiT5358 Datasheet</li> <li> ESP32 Datasheet</li> </ul> </li> <li> SFE Product Showcase</li> <li> Hardware Repo</li> </ul>"},{"location":"print_view/#sparkfun-logo-additional-resources","title":"SparkFun logo Additional Resources","text":"<ul> <li>GNSS Product Category</li> <li> SparkFun Technical Assistance</li> <li> SparkFun Forum: GNSS Topics</li> </ul>"},{"location":"print_view/#manufacturers-resources","title":"\ud83c\udfed Manufacturer's Resources","text":"Septentrio logo Septentrio AtomiChron<sup>\u00ae</sup>Espressif primary logo <p>Septentrio also provides great resources for the mosaic-T:</p> <ul> <li>mosaic-T Product Page<ul> <li> Resources: Datasheet, firmware, manual, software tools, USB driver, etc.</li> </ul> </li> <li> Support Portal:<ul> <li> Septentrio Knowledge Base (1)</li> </ul> </li> <li> YouTube Channel (2)</li> <li>Learn More - Insights<ul> <li>How GPS brings time to the world</li> <li>How GPS helps keep time, heartbeat of a connected society</li> <li>The Chirp Jammer: a GPS hit and run</li> <li>JammerTest 2023 - Anti-Jamming and Anti-Spoofing Performance</li> </ul> </li> </ul> <ol> <li> <p>Recommended Articles</p> <p>General Knowledge</p> <p>mosaic - Getting started Resetting a receiver Resetting and clearing the non-volatile memory Generating a diagnostic report of a Septentrio receiver RTCMv3 messages supported by the Septentrio receivers Interference Detection, Mitigation, and Flagging</p> <p>Timing Applications</p> <p> How to set up the PolaRx5TR for timing applications? Activating the mosaic-T for Fugro AtomiChron How to log CGGTTS files on a PolaRx5TR? PPS IN monitoring with a PolaRx5TR How to get scintillation Indices from PolaRx5S receiver?</p> <p>Providing RTK Corrections</p> <p>How to set up a base station RTK positioning with a moving baseline Set up an (internal) NTRIP caster on a Septentrio receiver</p> <p>Applying RTK Corrections</p> <p>Receive corrections over IP Receive corrections via NTRIP Using uBlox's correction services for precise positioning</p> <p>Antenna Corrections</p> <p>Antenna calibration Applying ARP/APC offsets</p> <p>Detecting and Mitigating Interference</p> <p> How to Activate Wideband Interference Mitigation How to mitigate interference with notch filters Pulse-Blanking Front-end Saturation Caused by Interference Visualizing interference using the spectrum plot SBF Analyzer: Carrier to Noise&lt;</p> </li> <li> <p>Recommended Videos</p> <p> Getting started with the mosaic receiver module Output NMEA data on the mosaic receiver module Receiving NTRIP corrections on the mosaic module Logging data to the Septentrio mosaic receiver module Receiving corrections over an IP connection Share the USB internet connection on your receiver Septentrio's Agnostic GNSS Corrections program Test-run for Septentrio's anti-jamming feature How to Activate Wideband Interference Mitigation How to set a notch filters How to use a spectrum plot mosaic - GNSS module receiver range from Septentrio</p> </li> </ol> <p>Full details about Fugro's AtomiChron<sup>\u00ae</sup> time synchronisation service can be found on their website:</p> <ul> <li>Fugro AtomiChron<sup>\u00ae</sup></li> <li> Mastering time: the challenge of time synchronisation</li> </ul> <p>SiTime provides great resources for the SiT5358 Super-TCXO:</p> <ul> <li>Product Page</li> <li> Technical Support Portal</li> <li> MEMS Super-TCXO vs Quartz</li> <li> Application Notes:<ul> <li>AN10025 - Reliability Calculations for SiTime Oscillators</li> <li>AN10039 - TCXO Frequency Stability and Frequency Accuracy Budget</li> <li>AN10063 - TCXO and OCXO Stability Degradation</li> <li>AN10064 - Improved System Performance with Digital Frequency Tuning in Precision Super-TCXOs</li> <li>AN23033 - Thermal Considerations for SiTime Products</li> </ul> </li> </ul> <p>Espressif also provides great resources for their ESP32 module:</p> <ul> <li>ESP32 Product Resource Page</li> <li> Espressif's Forum for the ESP32</li> <li> Espressif GitHub Repositories<ul> <li>ESP32 Arduino Core<ul> <li><code>.json</code> file needed for Epressif's ESP32 Arduino Core: <code>https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json</code></li> </ul> </li> <li>ESP-IDF -- IoT Development Framework<ul> <li>Programming Guide</li> </ul> </li> </ul> </li> </ul>"},{"location":"print_view/#troubleshooting-tips","title":"Troubleshooting Tips","text":"<p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading over to the SparkFun Technical Assistance page for some initial troubleshooting.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun GNSS Forum is a great place to ask questions.</p> <p>Account Registration Required</p> <p>If this is your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"print_view/#what-is-in-the-box","title":"What is in the Box?","text":"<p>Everything that is included in the GNSSDO kit.</p> <p>The GNSSDO comes packaged as a complete kit, with all the accessories you'd need to set it up. Inside the box, users will find the GNSS antenna, GNSSDO in its aluminum enclosure, CAT-6 Ethernet cable, USB-C cable, and another box containing additional accessories. Inside the accessory box, users will find the SMA to TNC cable, SMA to BNC cable, USB PD wall adapter, WiFi antenna, silicone bumpers, and 32GB SD card.</p> <p>If you are missing any of these items, please reach out to us in our forum.</p> <p> SparkFun logo SparkFun Forum - GNSS Topic </p>"},{"location":"print_view/#oled-dead-pixels","title":"OLED Dead Pixels","text":"<p>Got a few dead pixels on your OLED display? Please reach out to us in our forum.</p> <p> SparkFun logo SparkFun Forum - GNSS Topic </p>"},{"location":"print_view/#data-logging","title":"Data Logging","text":"<p>For data logging issues, here are some simple troubleshooting tips:</p> <ul> <li>Make sure that your SD card is formatted to a <code>FAT32</code> file system.<ul> <li>The <code>FAT32</code> file system also limits the maximum capacity of the card to less than 32GB (i.e. a 256GB SD card will not work).</li> </ul> </li> <li>Make sure that the mosaic-T module has a configured data stream output.</li> <li>Use the mosaic-T web page to verify that the SD card is mounted as a storage drive.</li> </ul>"},{"location":"print_view/#l5-band","title":"L5 Band","text":"<p>By default, the L5 band is enabled on the mosaic-T. To disable or re-enable reception of the L5 band on the mosaic-T, we have provided instructions on the Enable the L5 Band page.</p>"},{"location":"print_view/#reprogramming-the-esp32","title":"Reprogramming the ESP32","text":"<p>In case users accidentally reprogram or corrupt the flash memory on the ESP32, the /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>The full firmware source code is available in our GitHub repository</p>"},{"location":"print_view/#enclosure-disassembly","title":"Enclosure Disassembly","text":"<p>Due to the ESD sensitivity of the mosaic-T module, we don't recommend disassembling the GNSSDO. However, if users must access the PCB to troubleshoot an issue, make a modification, or repair a component, we highly recommend that they take the necessary ESD precautions to avoid damaging the mosaic-T module.</p> <p>Read Before Disassembly!</p> <p>ESD Sensitivity</p> <p>The mosaic-T module is sensitive to ESD. Use a proper grounding system to make sure that the working surface and the components are at the same electric potential.</p> ESD Precaution <p>As recommended by the manufacturer, we highly encourage users to take the necessary precautions to avoid damaging their module.</p> <ul> <li>The GNSSDO features ESD protection on the USB-C connectors, ethernet jack, I/O terminals and SMA antenna connections.</li> </ul> <p> </p> <ul> <li> <p> <p>iFixit Anti-Static Wrist Strap TOL-25572</p> <p>Before disassembling the enclosure, users should disconnect the power and all cables from the GNSSDO. This will prevent users from creating any shorts and will facilitate the teardown process further on.</p> <p>The GNSSDO PCB is held in place by the front and rear panels of the enclosure. While users can remove the panels first, we recommend that users disconnect the screw terminal blocks first. Users may find it more difficult to separate the terminal block from the connector later in the disassembly process.</p> Remove the Screw Terminal Block First <p>Users may find it easiest to remove the screw terminal blocks first; as opposed to later in the teardown process.</p> <p> Using a soft/rigid object to carefully pry the terminal block off. </p> <p>Users can wiggle or use a soft/rigid object to carefully pry the terminal block off. In the picture above, a plastic name tag (~1.5mm thick) is used to carefully pry the terminal block up. We have also found the edge of a PCB ruler works great too.</p> <p>Once the terminal blocks have been removed, users can remove the front and rear panels of the enclosure. They are held in place with four, M3, Phillips head screws on the corners of each panel.</p> <p>Remove Front Panel First</p> <p>We recommend removing the front panel first to prevent the Qwiic cable from being yanked off the OLED display or main PCB. Once the front panel is free, carefully lift the panel and disconnect the Qwiic cable from the top connector on the OLED display.</p> <p>At this point, if users have previously disconnected all the cables and the terminal blocks from the back, the GNSSDO PCB should slide out of the enclosure. Users can then, remove the rear panel from the enclosure to complete the teardown process.</p> <p> </p> <ol> <li> <p>On Linux, the standard Linux CDC-ACM driver is suitable.\u00a0\u21a9\u21a9\u21a9</p> </li> <li> <p>The system requirements and installation instructions are from the RxTools v22.1.0 user manual. This information may change in later iterations of the software suite. Please refer to the user manual (of the version you are utilizing) for the most accurate information.\u00a0\u21a9\u21a9</p> </li> <li> <p>Higher data rates will require higher CPU speed and more memory capacity.\u00a0\u21a9</p> </li> <li> <p>Users will need administrative privileges to install the RxTools software.\u00a0\u21a9\u21a9</p> </li> <li> <p>Users may need to extract the RxTools installation files from the downloaded, compressed file.\u00a0\u21a9\u21a9</p> </li> <li> <p>Please see the release notes for the issues and limitations of the RxTools applications.\u00a0\u21a9</p> </li> <li> <p>Requires c privileges.\u00a0\u21a9</p> </li> <li> <p>Changing these permissions also requires <code>root</code> privileges.\u00a0\u21a9</p> </li> <li> <p>For the latest USB driver from Septentrio, please install their driver through the RxTools software suite. This driver version was archived at the time that the mosaic-T hookup guide was written. Please do not request for the file to be updated. \u21a9</p> </li> </ol>"},{"location":"quick_start/","title":"Quick Start Guide","text":"<p>Directions</p> <p>This quick start guide is intended to help users get started with the SparkPNT GNSSDO, without having to review the technical details of this product. It includes the minimum instructions to initially set up the GNSSDO, depending on the primary interface that users would like to utilize:</p> Ethernet <p>Instructions to connect the GNSSDO to a local network with an ethernet cable. This will provide the mosaic-T module with network connectivity for its internal web server; where, users can access its web pages with any computer or mobile device to configure the mosaic-T GNSS module.</p> mosaic-T USB-C <p>For users that just want to interface and configure the mosaic-T GNSS module, inside the GNSSDO, directly through a computer.</p> ESP32 USB-C <p>For users that want to interface with the firmware running on the GNSSDO, using a terminal emulator on a computer.</p> <p>  Click on the tab of your preferred interface (below), to get started with the GNSSDO.  </p>  Quick Start Pamphlet <p>For users who have lost the pamphlet in their kit, please check out the links below to download the <code>*.pdf</code> file:</p> <p>  Download the Quick Start Guide  Click on the button (above) or scan the QR code with a mobile device, to download the <code>*.pdf</code> file of the quick start pamphlet. </p>  Ethernet mosaic-T USB-C ESP32 USB-C <p>The simplest way to get your GNSSDO up and running is to connect it to your Ethernet network or an Ethernet port on your broadband router:</p> <p> Ethernet Connections (PNG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Connect the GNSSDO to your Ethernet network or router <ul> <li>Use the supplied CAT-6 Ethernet cable to connect the <code>ETHERNET (PoE)</code> port to your network or an Ethernet port on your router.</li> <li>If your router provides Power-over-Ethernet (PoE), you're all set (skip the next step)!<ul> <li>You should see the red <code>PWR</code> LED light up and text start to appear on the OLED display.</li> </ul> </li> <li>If your router does not provide PoE, move on to step <code>3</code>.</li> </ul> <code>3</code> - Provide power <ul> <li>You can power the GNSSDO using the supplied USB power supply (wall adapter) and USB cable.<ul> <li>Plug the power supply into the wall.</li> <li>Use the supplied USB-C cable to connect the power supply to either of the USB-C ports.</li> </ul> </li> <li>You should see the red power <code>PWR</code> LED light up and text appear on the OLED display.</li> </ul> <p>Once the mosaic-T has acquired a satellite signal and is connected to the Ethernet network, the OLED will display: the date and time; the antenna's position as Latitude (Lat) and Longitude (Long); the Ethernet IP (Internet Protocol) network address.</p> <p>Connect your computer or mobile device to the same network that the GNSSDO is on, open a web browser and navigate to the IP address shown on the OLED display. You should be able to access the mosaic-T module's internal web sever. Each web page displays a lot of helpful information and can also be used to fully configure the mosaic-T GNSS module.</p> <p> mosaic-T web page (PNG) for the GNSSDO.  </p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the wall adapter has power and the USB cable is connected.</p> <p>If you use your own Ethernet cable for Power-over-Ethernet, check it has all eight pins connected. Some cables only have four pins connected and do not support Power-over-Ethernet.</p> No position information? <p>The OLED display will only show position information (Lat, Long etc.) once a satellite signal has been acquired. If you don't see these on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No IP address? <p>Check the Ethernet interface is enabled. It may be disabled. Connect via the <code>CONFIG MOSAIC</code> USB-C port and open <code>192.168.3.1</code> on a web browser. Check the Communication  Ethernet sub-page.</p> <p> mosaic-T web page (PNG) with Ethernet disabled.  </p> <p> mosaic-T web page (PNG) with Ethernet enabled.  </p> <p>By default, the mosaic-T Ethernet port is configured for Dynamic Host Configuration Protocol (DHCP). It expects the router / Ethernet switch to provide it with an IP address. If the IP address is all zeros (<code>0.0.0.0</code>), check that your router has DHCP enabled. Most do.</p> <p>If you need a static IP address, you can configure this through the mosaic-T's Communication  Ethernet sub-page.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (<code>192.168.3.***</code>), please change its settings so it uses a different subnet.</p> No web page? <p>If you can not see the mosaic-T's internal web page, please check that your computer / tablet / phone is connected to the same network. Most broadband routers support both Ethernet and WiFi simultaneously using the same subnet. If you are using a phone, check it is connected to the router WiFi - and not using its mobile data connection.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your router / switch is allocating addresses using subnet 3 (<code>192.168.3.***</code>), please change its settings so it uses a different subnet. If it is using subnet 3, both the mosaic-T and your device will appear to have valid IP addresses but will not be able to communicate.</p> <p>The mosaic-T has a built-in high-speed USB port which supports Ethernet-over-USB and two additional UART <code>COM</code> ports. To take advantage of this interface, you first need to install Septentrio's USB driver.</p> <p> USB Connections (PNG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Download and install Septentrio RxTools <ul> <li>The Septentrio mosaic-T Resources page has download links for the mosaic-T datasheet, firmware, firmware guide, hardware manual, how-to videos and the RxTools support tool suite.</li> <li>RxTools includes the USB driver for the mosaic-T module plus several tools, which you can use to control and configure the mosaic-T, forward data, log data, analyze the log files, convert the log files to other formats, and configure the module for use with other GIS software.</li> <li>Download and install RxTools.</li> </ul> <code>3</code> - Connect the GNSSDO to your computer <ul> <li>Use the supplied USB-C cable to connect the <code>CONFIG MOSAIC</code> port to your computer.</li> </ul> <code>4</code> - Open the web page <ul> <li>Open a web browser on your computer and navigate to <code>192.168.3.1</code> to view the mosaic-T's internal web page.</li> </ul> <p>You can now use the RxTools suite to take full advantage of the sophisticated mosaic-T.</p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the USB cable is connected.</p> No position information? <p>The OLED display will only show position information (Lat, Long, Alt etc.) once a satellite signal has been acquired. If you see only an IP address on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No web page? <p>If you can not see the mosaic-T's internal web page at <code>192.168.3.1</code>, please check that your computer / tablet / phone is connected correctly to the USB-C port.</p> <p>Subnet 3 is reserved for the mosaic-T's USB-C connection (Ethernet-over-USB). If your computer is simultaneously connected to an Ethernet or WiFi network that also uses subnet 3 (<code>192.168.3.***</code>), please change the network settings so it uses a different subnet.</p> <p>The SparkPNT GNSSDO contains an ESP32-WROVER microcontroller module, which is able to discipline the frequency of the internal SiT5358 temperature-controlled crystal oscillator (TCXO). By linking the <code>CONFIG ESP32</code> USB-C port to your computer, you can view and modify the settings of the ESP32 firmware using a terminal emulator.</p> <p> USB Connections (JPG) for the GNSSDO.  </p> <code>1</code> - Connect the GNSS antenna <ul> <li>Inside your SparkPNT GNSSDO kit, you will find the L1/L2/L5 GNSS \"UFO\" antenna. It has a TNC connection. Use the supplied TNC-SMA cable to connect the antenna to the <code>GNSS</code> SMA connection on the GNSSDO.</li> <li>The antenna needs a clear view of the sky. If you are working indoors, put the antenna outside and pass the cable through a window. (Insulating double-glazed windows have a coating which can block the GNSS signal.)</li> <li>Make sure the antenna is securely mounted to a structure so that it cannot be moved.</li> </ul> <code>2</code> - Download and install a terminal emulator like Tera Term <ul> <li>To communicate with the firmware running on the ESP32, you will need a serial console or terminal emulator.<ul> <li>If you are using Windows, we still recommend Tera Term</li> </ul> </li> </ul> <code>3</code> - Connect the GNSSDO to your computer <ul> <li>Use the supplied USB-C cable to connect the <code>CONFIG ESP32</code> port to your computer.<ul> <li>You may need to install a USB driver first, so that the CH340 serial interface chip is recognized.</li> </ul> </li> </ul> <code>4</code> - Open the terminal emulator <ul> <li>Open the terminal emulator and connect to the CH340 COM port. Select 115200bps as the baud rate.</li> <li>Once connected, you will see a debug message from the ESP32 every second. The message contains the date, time, Lat, Long and other information about the clock accuracy.</li> <li>Pressing any key will open the configuration menu, allowing you to change the firmware settings if needed.<ul> <li>The firmware settings are stored in flash (non-volatile) memory when you exit the menus. After changing them, exit the menus completely, then you can disconnect the computer and power the GNSS using the supplied wall charger.</li> </ul> </li> </ul> <p>Note</p> <p>You should never need to change most of the firmware settings, the default settings will meet the needs of almost all users.</p> <p>Tip</p> <p>Enabling the TCP Server (IPS1) option via the Configure Operation menu will allow you to access the firmware serial console via TCP. The firmware settings can then be accessed over the Ethernet or Ethernet-over-USB interfaces, instead of CONFIG ESP32 USB-C. The TCP port number can be changed via the menu; the default TCP port is 28785.</p> <p>Not working?</p> <p>The following sections will help if your GNSSDO is not working as expected:</p> No power? <p>The red power <code>PWR</code> LED will light up when the GNSSDO has power. If the <code>PWR</code> LED is off, make sure the USB cable is connected.</p> No position information? <p>The OLED display will only show position information (Lat, Long, Alt etc.) once a satellite signal has been acquired. If you see only an IP address on the display, check the SMA to TNC cable is connected correctly and that the antenna is outside with a clear view of the sky. Use a male-female SMA extension cable if needed to increase the cable length.</p> No serial console? <p>If you can not see the debug messages and configuration menu in the terminal emulator, check that: you have installed the CH340 driver if needed; you are connected to the CH340 COM port; you have selected 115200bps as the baud rate.</p>"},{"location":"resources/","title":"Hardware Resources","text":""},{"location":"resources/#product-resources","title":"Product Resources","text":"<ul> <li>SparkFun logo Product Page</li> <li>Quick Start Guide</li> <li> Design Files:<ul> <li> Schematic</li> <li> Board Dimensions</li> <li> Enclosure Dimensions</li> <li> ESP32 Firmware</li> </ul> </li> <li>Datasheets:<ul> <li> mosaic-T Datasheet</li> <li> SiT5358 Datasheet</li> <li> ESP32 Datasheet</li> </ul> </li> <li> SFE Product Showcase</li> <li> Hardware Repo</li> </ul>"},{"location":"resources/#sparkfun-logo-additional-resources","title":"SparkFun logo Additional Resources","text":"<ul> <li>GNSS Product Category</li> <li> SparkFun Technical Assistance</li> <li> SparkFun Forum: GNSS Topics</li> </ul>"},{"location":"resources/#manufacturers-resources","title":"\ud83c\udfed Manufacturer's Resources","text":"Septentrio logo Septentrio AtomiChron<sup>\u00ae</sup>Espressif primary logo <p>Septentrio also provides great resources for the mosaic-T:</p> <ul> <li>mosaic-T Product Page<ul> <li> Resources: Datasheet, firmware, manual, software tools, USB driver, etc.</li> </ul> </li> <li> Support Portal:<ul> <li> Septentrio Knowledge Base (1)</li> </ul> </li> <li> YouTube Channel (2)</li> <li>Learn More - Insights<ul> <li>How GPS brings time to the world</li> <li>How GPS helps keep time, heartbeat of a connected society</li> <li>The Chirp Jammer: a GPS hit and run</li> <li>JammerTest 2023 - Anti-Jamming and Anti-Spoofing Performance</li> </ul> </li> </ul> <ol> <li> <p>Recommended Articles</p> <p>General Knowledge</p> <p>mosaic - Getting started Resetting a receiver Resetting and clearing the non-volatile memory Generating a diagnostic report of a Septentrio receiver RTCMv3 messages supported by the Septentrio receivers Interference Detection, Mitigation, and Flagging</p> <p>Timing Applications</p> <p> How to set up the PolaRx5TR for timing applications? Activating the mosaic-T for Fugro AtomiChron How to log CGGTTS files on a PolaRx5TR? PPS IN monitoring with a PolaRx5TR How to get scintillation Indices from PolaRx5S receiver?</p> <p>Providing RTK Corrections</p> <p>How to set up a base station RTK positioning with a moving baseline Set up an (internal) NTRIP caster on a Septentrio receiver</p> <p>Applying RTK Corrections</p> <p>Receive corrections over IP Receive corrections via NTRIP Using uBlox's correction services for precise positioning</p> <p>Antenna Corrections</p> <p>Antenna calibration Applying ARP/APC offsets</p> <p>Detecting and Mitigating Interference</p> <p> How to Activate Wideband Interference Mitigation How to mitigate interference with notch filters Pulse-Blanking Front-end Saturation Caused by Interference Visualizing interference using the spectrum plot SBF Analyzer: Carrier to Noise&lt;</p> </li> <li> <p>Recommended Videos</p> <p> Getting started with the mosaic receiver module Output NMEA data on the mosaic receiver module Receiving NTRIP corrections on the mosaic module Logging data to the Septentrio mosaic receiver module Receiving corrections over an IP connection Share the USB internet connection on your receiver Septentrio's Agnostic GNSS Corrections program Test-run for Septentrio's anti-jamming feature How to Activate Wideband Interference Mitigation How to set a notch filters How to use a spectrum plot mosaic - GNSS module receiver range from Septentrio</p> </li> </ol> <p>Full details about Fugro's AtomiChron<sup>\u00ae</sup> time synchronisation service can be found on their website:</p> <ul> <li>Fugro AtomiChron<sup>\u00ae</sup></li> <li> Mastering time: the challenge of time synchronisation</li> </ul> <p>SiTime provides great resources for the SiT5358 Super-TCXO:</p> <ul> <li>Product Page</li> <li> Technical Support Portal</li> <li> MEMS Super-TCXO vs Quartz</li> <li> Application Notes:<ul> <li>AN10025 - Reliability Calculations for SiTime Oscillators</li> <li>AN10039 - TCXO Frequency Stability and Frequency Accuracy Budget</li> <li>AN10063 - TCXO and OCXO Stability Degradation</li> <li>AN10064 - Improved System Performance with Digital Frequency Tuning in Precision Super-TCXOs</li> <li>AN23033 - Thermal Considerations for SiTime Products</li> </ul> </li> </ul> <p>Espressif also provides great resources for their ESP32 module:</p> <ul> <li>ESP32 Product Resource Page</li> <li> Espressif's Forum for the ESP32</li> <li> Espressif GitHub Repositories<ul> <li>ESP32 Arduino Core<ul> <li><code>.json</code> file needed for Epressif's ESP32 Arduino Core: <code>https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json</code></li> </ul> </li> <li>ESP-IDF -- IoT Development Framework<ul> <li>Programming Guide</li> </ul> </li> </ul> </li> </ul>"},{"location":"software_overview/","title":"Software Setup","text":"<p>ESP32 Firmware</p> <p>We have intentionally kept the ESP32 firmware as simple as possible - its only tasks are to: discipline the TCXO oscillator; control the OLED display. The intention is that you can easily develop your own firmware for the GNSSDO if the SparkFun firmware does not meet your needs.</p> <p>The /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>You can of course modify the hardware too, should you want to. The design is completely open-source.</p> <p>Note</p> <p>The mosaic-T module has numerous capabilities and a multitude of ways to configure and interface with them. Without regurgitating all the information that is documented in Septentrio's user manuals and videos, we have tried to highlight a good majority of the module's aspects.</p> <p>With that said, please feel free to file an issue if you feel we have missed something that may benefit other users. (Don't forget to provide us with a link to the documentation and what section the information is located.)</p>"},{"location":"software_overview/#septentrio-logo-mosaic-t","title":"Septentrio logo mosaic-T","text":""},{"location":"software_overview/#rxtools-software-suite","title":"RxTools Software Suite","text":"<p>Tip</p> <p>Even if you aren't necessarily interested in it, we highly recommend that users install the RXTools software suite before plugging in their board. For Windows PCs, it also includes the USB driver for the module that enables the Ethernet-over-USB support and virtual <code>COM</code> ports.</p> <p>Users should install the RXTools software suite on their computer to interact with the mosaic-T module through the USB interface. The software package includes the USB-IP driver<sup>1</sup> necessary to recognize the board as an ethernet device on Windows PCs (1).</p> <ol> <li>On Linux, the standard Linux CDC-ACM driver is suitable.</li> </ol> <p>  Download the RxTools Software from Septentrio </p> System Requirements<sup>2</sup> Operating SystemsHardware Requirements <ul> <li>Windows 7</li> <li>Windows 8</li> <li>Windows 10</li> <li>Fedora 23 (or later) using Qt technology.<ul> <li>The standalone tools (except <code>bin2asc</code>) will run on older distributions.</li> </ul> </li> </ul> <p>The minimal hardware requirements (1Hz update<sup>3</sup>):</p> <ul> <li>CPU: 1 GHz processor</li> <li>RAM: 1 GB RAM</li> <li>Screen Resolution: 1024\u00d7768 or higher resolution</li> </ul> Installation Instructions<sup>2</sup> WindowsLinux<sup>1</sup> <p>Users can install RxTools software suite by running the installation executable<sup>4</sup>(1), located in the <code>RxTools\\windows</code> directory of the downloaded <code>*.zip</code> file<sup>5</sup>. During the installation process, users will be notified if a previous version of RxTools is already installed then the previous version will be uninstalled. Next, users will need to provide an installation directory for the RxTools software suite. Users will then select which of the following applications<sup>6</sup> are installed:</p> <ol> <li>For RxTools v22.1.0, the installation filename is <code>RxTools_22_1_0_Installer.exe</code> for Windows PCs.</li> </ol> <ul> <li>RxControl</li> <li>SBF Converter</li> <li>SBF Analyzer</li> <li>RxLogger</li> </ul> <ul> <li>RxUpgrade</li> <li>RxDownload</li> <li>RxPlanner</li> </ul> <ul> <li>Data Link</li> <li>RxAssistant</li> <li>RxLauncher</li> </ul> <p>Warning</p> <p>It is recommended that users NOT install RxControl as <code>root</code>, for security reasons and to avoid installation overwrites of other system settings. To make RxTools available to more than one user, provide a shared installation directory.</p> <p>Users can install RxTools software suite by running the installation binary<sup>4</sup>(1), located in the <code>RxTools/linux-i386/</code> directory of the downloaded <code>*.zip</code> file<sup>5</sup>. During the installation, users will be prompted for an installation directory. If there are any previous installations of RxControl, please use a different directory to avoid conflicts.</p> <ol> <li>For RxTools v22.1.0, the installation filename is <code>RxTools_22_1_0_Installer.bin</code> for Linux.</li> </ol> Permission Settings <p>Once installed, users may need to reconfigure their permission settings:</p> <ul> <li> <p>RxTools will need rights to access the <code>/dev/ttyS*</code> serial ports.</p> <ul> <li> <p>To access the serial ports, users must be part of the <code>uucp</code> and <code>lock</code> groups (1). This can be configured by editing the <code>/etc/group</code><sup>7</sup> file and adding the username to the lines defining the <code>uucp</code> group and the <code>lock</code> group.</p> <p>For example, when adding the user <code>jsmith</code> to the <code>uucp</code> group, users would modify the <code>/etc/group</code> file as shown below:</p> <pre><code>uucp:x:14:uucp # (2)!\nuucp:x:14:uucp,jsmith # (3)!\n</code></pre> </li> <li> <p>On Linux machine administered centrally on a local network, ask your system administrator to be included in the <code>uucp</code> and <code>lock</code> groups.</p> </li> </ul> </li> <li> <p>RxTools also needs read/write (<code>rw</code>) access(4) to the <code>/dev/ttyS*</code> serial ports.</p> <ul> <li> <p>Users can change the permissions with the <code>chmod</code><sup>8</sup> command:</p> <pre><code>chmod 660 /dev/ttyS&lt;add port&gt; # (5)!&gt;\n</code></pre> </li> </ul> </li> </ul> <ol> <li>On most Linux operating systems, the <code>/dev/ttyS*</code> devices are owned by <code>root</code> and belong to the <code>uucp</code> group with read/write (<code>rw</code>) access. Additionally, the devices are normally locked by writing a file in the <code>/var/lock/</code> directory, with the same permissions.</li> <li>Remove</li> <li>Replace with this line</li> <li>By default, users will normally have read/write (<code>rw</code>) access to the <code>/dev/ttyS*</code> serial ports.</li> <li>where users must specify the port numbere.g. <code>/dev/ttyS0</code> might be port <code>COM1</code></li> </ol> <p>Note</p> <p>In order for these changes to take effect, users must update their environment by logging out and back in.</p> <p>Be aware that the X-session has to be restarted as well. On most systems, this can be done by pressing the key combination Ctrl + Alt + Backspace</p> 64-bit OS <p>In order to run the RxTools on a 64-bit Linux operating system, users might have to install the 32-bit version of the <code>C</code> standard library.</p> <ul> <li>For Fedora installations, this is the <code>glibc.i686</code> package.</li> <li>The equivalent for Debian(/Ubuntu) installations is the <code>ia32-libs</code> package.</li> </ul>"},{"location":"software_overview/#septentrio-usb-driver","title":"Septentrio USB Driver","text":"WindowsLinux <p>If users haven't already installed the RxTools software suite on their Windows PC, they will need to install the USB driver<sup>1</sup> necessary to recognize and interact with the mosaic-T module through the USB interface.</p> <p>A Windows USB driver for the mosaic-T can be installed through two methods:</p> <ul> <li>RxTools Software Suite (1)</li> <li>mosaic-T GNSS Receiver Module (2)</li> </ul> <ol> <li>The driver is installed during the installation process.</li> <li>The installation file for the Windows USB driver will be available from the mass-storage device when the board is initially connected to the computer.</li> </ol> <p>Once installed, the driver emulates two virtual serial ports, which can be accessed as standard <code>COM</code> ports to the receiver.</p> Terminal Emulators <p>Most terminal emulation programs will not make a distinction between virtual or native COM ports. However, for virtual serial ports, the port settings (i.e. baud rate, etc.) are not relevant and the default configuration is used in the terminal emulation program. However, the physical/native <code>COM</code> ports will have the following default setting:</p> <ul> <li>Baudrate: 115200bps</li> <li>Data Bits: 8</li> <li>Parity: No</li> <li>Stop Bits: 1</li> <li>Flow Control: None</li> </ul> Having Trouble? <p>For users who are having trouble installing the USB driver, we have an archived version (v3.0.2<sup>9</sup>) of the installation file. Users can download version 3.0.2 of the driver, by clicking on the button below.</p> <p>  Download USB Driver (v3.0.2) </p> <p>On Linux, the standard Linux CDC-ACM driver is suitable for the mosaic-T module.</p>"},{"location":"software_overview/#web-interface","title":"Web Interface","text":"<p>With the USB driver installed, the mosaic-T module supports Ethernet-over-USB. The default IP address allocated for the Ethernet-over-USB interface is <code>192.168.3.1</code>. This IP can be entered in any browser to open a connection to the receiver's Web Interface as shown below.</p> <p></p> <p>All the drop-down navigation tabs in the web interface.</p> <p> <p></p> <p>Info</p> <p>The default IP address cannot be changed; this feature is only to be used when a single receiver is connected to your computer.</p> Invalid IP Address (WiFi Only) <p>One of the documentation pages on Septentrio's website, specifies a default IP address of <code>192.168.20.1</code> for the web interface. However, that address is for a WiFi enabled product and cannot be used with this product.</p>"},{"location":"software_overview/#espressif-logo-esp32","title":"Espressif logo ESP32","text":""},{"location":"software_overview/#ch340-usb-driver","title":"CH340 USB Driver","text":"<p>Users will need to install a USB driver for the CH340 serial-to-USB chip, in order to communicate with the ESP32 module.    The latest USB drivers for the CH340 are available from the manufacturer, on the WCH website:</p> <p>  Download the latest CH340 USB driver from WCH </p> Need Directions? <p>For users having trouble installing the CH340 USB driver, check out our video and hookup guide:</p> <p> </p> <ul> <li> <p> <p>How to Install CH340 Drivers</p>"},{"location":"software_overview/#terminal-emulator","title":"Terminal Emulator","text":"<p>In order to configure the firmware settings on the ESP32, users will need to install a serial terminal emulator on their computer.</p> WindowsLinux <p>For Windows computers, we highly recommend TeraTerm.</p> <p>Some Linux operating systems will already have the <code>screen</code> terminal emulator preinstalled.</p> <p>Need Directions?</p> <p>Check out our hookup guide to install your favorite terminal emulator:</p> <ul> <li> <p> <p>Serial Terminal Basics</p>"},{"location":"software_overview/#software-settings","title":"Software Settings","text":"<p>When connected to the ESP32 CH340 COM port at 115200 baud, pressing any key in the terminal emulator will open the firmware Main Menu:</p> <p></p> <p>The ESP32 firmware main menu.</p>"},{"location":"software_overview/#configure-operation","title":"Configure Operation","text":"<p>Select option c (\"c\" followed by \"Enter\") to configure the firmware:</p> <p></p> <p>The ESP32 firmware configuration menu.</p> <ul> <li>1) RX Clock Bias Lock Limit<ul> <li>This allows the clock bias limit to be set. The units are milliseconds.</li> <li>The LOCK LED will illuminate when the bias is below this limit.</li> <li>PPS output will begin when the bias has been below this limit for RX Clock Bias Limit Count seconds.</li> </ul> </li> <li>2) RX Clock Bias Initial Limit<ul> <li>This allows the initial clock bias limit to be set. The units are milliseconds.</li> <li>The firmware will soft-reset the GNSS if the clock bias is above this limit for RX Clock Bias Limit Count seconds.</li> <li>This allows the firmware to restart the GNSS and re-sync the TCXO if the initial bias is excessive.</li> </ul> </li> <li>3) RX Clock Bias Limit Count<ul> <li>This defines how many consecutive 1Hz samples are needed to trigger the two clock bias limits.</li> </ul> </li> <li>4) Pk (PI P term)<ul> <li>This defines the Proportional term for the TCXO frequency PI control loop. Default is 0.63</li> <li>This value was determined using approximate Ziegler-Nichols tuning of the SiT5358 loop.</li> </ul> </li> <li>5) Ik (PI I term)<ul> <li>This defines the Integral term for the TCXO frequency PI control loop. Default is 0.151</li> <li>This value was determined using approximate Ziegler-Nichols tuning of the SiT5358 loop.</li> </ul> </li> <li>6) Prefer non-composite GPS bias<ul> <li>With a subscription to Fugro AtomiChron, this option allows the individual GPS clock bias to be preferred over the composite Fugro bias.</li> <li>You can enable a preference for either GPS or Galileo. Enabling GPS will disable Galileo.</li> </ul> </li> <li>7) Prefer non-composite Galileo bias<ul> <li>With a subscription to Fugro AtomiChron, this option allows the individual Galileo clock bias to be preferred over the composite Fugro bias.</li> <li>You can enable a preference for either GPS or Galileo. Enabling Galileo will disable GPS.</li> </ul> </li> <li>8) Pulse-Per-Second Interval<ul> <li>This defines the interval of the PPS signal. The intervals are defined by the mosiac-T firmware. Use \"8\" and \"Enter\" to scroll through the intervals:<ul> <li>\"off\"</li> <li>\"msec10\"</li> <li>\"msec20\"</li> <li>\"msec50\"</li> <li>\"msec100\"</li> <li>\"msec200\"</li> <li>\"msec250\"</li> <li>\"msec500\"</li> <li>\"sec1\"</li> <li>\"sec2\"</li> <li>\"sec4\"</li> <li>\"sec5\"</li> <li>\"sec10\"</li> <li>\"sec30\"</li> <li>\"sec60\"</li> </ul> </li> </ul> </li> <li>9) Pulse-Per-Second Polarity<ul> <li>This defines the PPS signal polarity: Low2High or High2Low</li> </ul> </li> <li>10) Pulse-Per-Second Delay<ul> <li>This allows the timing of the PPS signal to be advanced or retarded. The units are nanoseconds.</li> </ul> </li> <li>11) Pulse-Per-Second Time Scale<ul> <li>This defines which time scale is used to generate the PPS signal.<ul> <li>\"GPS\"</li> <li>\"Galileo\"</li> <li>\"BeiDou\"</li> <li>\"GLONASS\"</li> <li>\"UTC\"</li> <li>\"RxClock\"</li> </ul> </li> </ul> </li> <li>12) Pulse-Per-Second Max Sync Age<ul> <li>This defines how long PPS pulses will be produced when the GNSS signal is lost or jammed: 0 to 3600 seconds.</li> </ul> </li> <li>13) Pulse-Per-Second Pulse Width<ul> <li>This defines the width of the PPS signal. The units are milliseconds: 0.000001 to 1000.000000.</li> </ul> </li> <li>14) TCP Server (IPS1)<ul> <li>See TCP Server (IPS1) below for more details</li> </ul> </li> <li>15) TCP Server Port<ul> <li>The port for the TCP connection. Default is 28785.</li> </ul> </li> </ul> <p>To reset all settings to their default values, select \"r\", \"Enter\", \"y\", \"Enter\"</p> <p>The settings are saved to non-volatile memory (NVM, LittleFS) on exiting the menu. Ensure you fully exit the menu (\"x\", \"Enter\", \"x\", \"Enter\") to save any modified settings.</p> <p>The TCXO frequency control word is saved to NVM once per hour, to allow a quicker startup at the next power-on.</p>"},{"location":"software_overview/#tcp-server-ips1","title":"TCP Server (IPS1)","text":"<p>When TCP Server (IPS1) is enabled, the ESP32 serial console is diverted from the CH340 USB (CONFIG ESP32) interface to the mosaic-T COM3 UART interface and daisy chained to the IPS1 TCP server. The configuration menu and debug messages can then be accessed over TCP / Telnet on the chosen port. The CH340 USB (CONFIG ESP32) interface is then no longer active.</p> <p>TCP / Telnet is supported over both Ethernet and the Ethernet-over-USB connection. Only one TCP2Way connection is supported.</p> <p>If you are using Tera Term:</p> <ul> <li>Select TCP/IP and Telnet</li> <li>Enter the mosaic-T's IP address in Host<ul> <li>If you are connected via the CONFIG MOSAIC Ethernet-over-USB interface, the IP address is 192.168.3.1</li> </ul> </li> <li>Enter the TCP Server Port number in TCP port#<ul> <li>The default port is 28785</li> </ul> </li> </ul> <p></p> <p>Tera Term configuration for TCP.</p>"},{"location":"software_overview/#debug-software","title":"Debug Software","text":"<p>Select option d (\"d\" followed by \"Enter\") to configure the software debug options:</p> <p></p> <p>The ESP32 firmware debug menu.</p> <p>The debug options are what we use at SparkFun to check that the firmware is running correctly. You should not need change any of the options, except perhaps option 8 Print conditions. This option controls the periodic CSV messages seen in the console when the menu is closed. The format can be changed to human-readable text, or the messages can be disabled if desired.</p>"},{"location":"software_overview/#print-conditions-periodic-messages","title":"Print Conditions (periodic messages)","text":"<p>The format of the Print conditions CSV data is:</p> <p>YYYY/MM/DD,HH:MM:SS,Epoch,Lat,Lon,Alt,TimeSys,Error,Fine,PPS,Bias,Source,TCXO,Pk,Ik</p> <ul> <li>YYYY/MM/DD is the date from the ReceiverTime SBF message</li> <li>HH:MM:SS is the time from the ReceiverTime SBF message</li> <li>Epoch is the date and time in Unix epoch format: seconds.milliseconds from midnight UTC January 1st 1970. This is useful when plotting the data against time.</li> <li>Lat is the Latitude in degrees from the PVTGeodetic SBF message (7 decimal places)</li> <li>Lon is the Longitude in degrees from the PVTGeodetic SBF message (7 decimal places)</li> <li>Alt is the Altitude in metres from the PVTGeodetic SBF message (0.1mm resolution)</li> <li>TimeSys is the named TimeSystem from the PVTGeodetic SBF message</li> <li>Error is the Error byte from the PVTGeodetic SBF message. 0 indicates no error</li> <li>Fine is the FINETIME bit from the SyncLevel byte from the ReceiverTime SBF message</li> <li>PPS indicates if the Pulse-Per-Second output is enabled<ul> <li>PPS is enabled when the RxClkBias reaches the required accuracy, set by RX Clock Bias Lock Limit</li> </ul> </li> <li>Bias is the receiver clock bias in seconds</li> <li>Source is the source of the receiver clock bias reported in Bias<ul> <li>By default, this is PVT indicating the source is the composite RxClkBias from the PVTGeodetic SBF message</li> <li>If AtomiChron is enabled and if Prefer non-composite GPS bias or Prefer non-composite Galileo bias has been selected, this will change to GPS or Galileo indicating that the individual non-composite bias from the FugroTimeOffset SBF message is available and is being used</li> </ul> </li> <li>TCXO is the 26-bit signed frequency control word written to the SiT5358 TCXO</li> <li>Pk is the PI control loop Proportional term - set in the configuration menu</li> <li>Ik is the PI control loop Integral term - set in the configuration menu</li> </ul> <ol> <li> <p>On Linux, the standard Linux CDC-ACM driver is suitable.\u00a0\u21a9\u21a9\u21a9</p> </li> <li> <p>The system requirements and installation instructions are from the RxTools v22.1.0 user manual. This information may change in later iterations of the software suite. Please refer to the user manual (of the version you are utilizing) for the most accurate information.\u00a0\u21a9\u21a9</p> </li> <li> <p>Higher data rates will require higher CPU speed and more memory capacity.\u00a0\u21a9</p> </li> <li> <p>Users will need administrative privileges to install the RxTools software.\u00a0\u21a9\u21a9</p> </li> <li> <p>Users may need to extract the RxTools installation files from the downloaded, compressed file.\u00a0\u21a9\u21a9</p> </li> <li> <p>Please see the release notes for the issues and limitations of the RxTools applications.\u00a0\u21a9</p> </li> <li> <p>Requires c privileges.\u00a0\u21a9</p> </li> <li> <p>Changing these permissions also requires <code>root</code> privileges.\u00a0\u21a9</p> </li> <li> <p>For the latest USB driver from Septentrio, please install their driver through the RxTools software suite. This driver version was archived at the time that the mosaic-T hookup guide was written. Please do not request for the file to be updated. \u21a9</p> </li> </ol>"},{"location":"troubleshooting_tips/","title":"Troubleshooting Tips","text":"<p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading over to the SparkFun Technical Assistance page for some initial troubleshooting.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun GNSS Forum is a great place to ask questions.</p> <p>Account Registration Required</p> <p>If this is your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"troubleshooting_tips/#what-is-in-the-box","title":"What is in the Box?","text":"<p>Everything that is included in the GNSSDO kit.</p> <p>The GNSSDO comes packaged as a complete kit, with all the accessories you'd need to set it up. Inside the box, users will find the GNSS antenna, GNSSDO in its aluminum enclosure, CAT-6 Ethernet cable, USB-C cable, and another box containing additional accessories. Inside the accessory box, users will find the SMA to TNC cable, SMA to BNC cable, USB PD wall adapter, WiFi antenna, silicone bumpers, and 32GB SD card.</p> <p>If you are missing any of these items, please reach out to us in our forum.</p> <p> SparkFun logo SparkFun Forum - GNSS Topic </p>"},{"location":"troubleshooting_tips/#oled-dead-pixels","title":"OLED Dead Pixels","text":"<p>Got a few dead pixels on your OLED display? Please reach out to us in our forum.</p> <p> SparkFun logo SparkFun Forum - GNSS Topic </p>"},{"location":"troubleshooting_tips/#data-logging","title":"Data Logging","text":"<p>For data logging issues, here are some simple troubleshooting tips:</p> <ul> <li>Make sure that your SD card is formatted to a <code>FAT32</code> file system.<ul> <li>The <code>FAT32</code> file system also limits the maximum capacity of the card to less than 32GB (i.e. a 256GB SD card will not work).</li> </ul> </li> <li>Make sure that the mosaic-T module has a configured data stream output.</li> <li>Use the mosaic-T web page to verify that the SD card is mounted as a storage drive.</li> </ul>"},{"location":"troubleshooting_tips/#l5-band","title":"L5 Band","text":"<p>By default, the L5 band is enabled on the mosaic-T. To disable or re-enable reception of the L5 band on the mosaic-T, we have provided instructions on the Enable the L5 Band page.</p>"},{"location":"troubleshooting_tips/#reprogramming-the-esp32","title":"Reprogramming the ESP32","text":"<p>In case users accidentally reprogram or corrupt the flash memory on the ESP32, the /Firmware/Binaries folder contains the firmware binaries.</p> <p>You can update or reload the firmware using the SparkFun RTK Firmware Uploader.</p> <p>The full firmware source code is available in our GitHub repository</p>"},{"location":"troubleshooting_tips/#enclosure-disassembly","title":"Enclosure Disassembly","text":"<p>Due to the ESD sensitivity of the mosaic-T module, we don't recommend disassembling the GNSSDO. However, if users must access the PCB to troubleshoot an issue, make a modification, or repair a component, we highly recommend that they take the necessary ESD precautions to avoid damaging the mosaic-T module.</p> <p>Read Before Disassembly!</p> <p>ESD Sensitivity</p> <p>The mosaic-T module is sensitive to ESD. Use a proper grounding system to make sure that the working surface and the components are at the same electric potential.</p> ESD Precaution <p>As recommended by the manufacturer, we highly encourage users to take the necessary precautions to avoid damaging their module.</p> <ul> <li>The GNSSDO features ESD protection on the USB-C connectors, ethernet jack, I/O terminals and SMA antenna connections.</li> </ul> <p> </p> <ul> <li> <p> <p>iFixit Anti-Static Wrist Strap TOL-25572</p> <p>Before disassembling the enclosure, users should disconnect the power and all cables from the GNSSDO. This will prevent users from creating any shorts and will facilitate the teardown process further on.</p> <p>The GNSSDO PCB is held in place by the front and rear panels of the enclosure. While users can remove the panels first, we recommend that users disconnect the screw terminal blocks first. Users may find it more difficult to separate the terminal block from the connector later in the disassembly process.</p> Remove the Screw Terminal Block First <p>Users may find it easiest to remove the screw terminal blocks first; as opposed to later in the teardown process.</p> <p> Using a soft/rigid object to carefully pry the terminal block off. </p> <p>Users can wiggle or use a soft/rigid object to carefully pry the terminal block off. In the picture above, a plastic name tag (~1.5mm thick) is used to carefully pry the terminal block up. We have also found the edge of a PCB ruler works great too.</p> <p>Once the terminal blocks have been removed, users can remove the front and rear panels of the enclosure. They are held in place with four, M3, Phillips head screws on the corners of each panel.</p> <p>Remove Front Panel First</p> <p>We recommend removing the front panel first to prevent the Qwiic cable from being yanked off the OLED display or main PCB. Once the front panel is free, carefully lift the panel and disconnect the Qwiic cable from the top connector on the OLED display.</p> <p>At this point, if users have previously disconnected all the cables and the terminal blocks from the back, the GNSSDO PCB should slide out of the enclosure. Users can then, remove the rear panel from the enclosure to complete the teardown process.</p> <p> </p>"},{"location":"github/contribute/","title":"Contribute: Make an Augmentation!","text":"<p>Spot an improvement opportunity? Feel free to contribute to our open-source design and documentation. </p>"},{"location":"github/contribute/#improve-our-documentation","title":"Improve our Documentation","text":"<p>All of this documentation can be modified by you! Please help us make it better.</p> <ul> <li>These pages are contained in the <code>docs</code> folder of the SparkFun GNSSDO repository.</li> </ul>"},{"location":"github/contribute/#submit-a-correction","title":"Submit a Correction","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your corrections or improvements to the markdown file.</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ul> <li>Once received, the documentation specialist will automatically be notified.</li> <li>We will review your suggested improvements to make sure they are correct and fit within our documentation standards.</li> </ul> </li> </ol>"},{"location":"github/contribute/#improve-our-hardware-design","title":"Improve our Hardware Design","text":"<p>All of our designs are open-source! Please help us make it better.</p> <ul> <li>Our board design files are contained in the <code>Hardware</code> folder of the SparkFun GNSSDO repository.</li> </ul>"},{"location":"github/contribute/#submit-a-design-enhancement","title":"Submit a Design Enhancement","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your design augmentation(s)</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ol> <li>Once received, the engineer in charge of the original design will automatically be notified.</li> <li>We will review your suggested improvement(s) to verify that they are within our board design standards and meet our product design requirements.</li> <li> <p>If approved, we will flag these changes for our next board revision. Congrats! \ud83c\udf7b</p> <p>Info</p> <p>Even if your suggestion is accepted, these changes may not be immediately available for purchase. We may have to cycle through our current product inventory first.</p> </li> </ol> </li> </ol>"},{"location":"github/contribute/#contributors","title":"Contributors","text":"<p>Let's provide some recognition to the contributors for this project!</p> <p> </p>"},{"location":"github/file_issue/","title":"Did we make a mistake?","text":"<p>Spot something wrong? Please let us know. </p> <p>Need Help?</p> <p>If you need technical assistance or more information on a product that is not working as you expected, we recommend heading on over to the SparkFun Technical Assistance page for some initial troubleshooting. This Submit Issues page is not where users should seek assistance.</p> <p> SparkFun Technical Assistance Page </p> <p>If you can't find what you need there, the SparkFun Forums is a great place to search the product forums and ask questions.</p> <p>Account Registration Required</p> <p>For your first visit to our forum, you'll need to create a Forum Account to post questions.</p>"},{"location":"github/file_issue/#discrepancies-in-the-documentation","title":"Discrepancies in the Documentation","text":"<p>All of our documentation can be modified by you! Please help us make it better.</p> <ul> <li>The documentation files for these pages are contained in the <code>docs</code> folder of the SparkFun GNSSDO repository.</li> </ul>"},{"location":"github/file_issue/#spot-something-wrong","title":"\ud83d\udd0d Spot something wrong?","text":"<p>If a section of the documentation is incorrect, please open an issue and let us know.</p>"},{"location":"github/file_issue/#do-you-have-a-suggested-correction","title":"Do you have a suggested correction?","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your correction(s) or improvement(s) to the markdown file(s)</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ul> <li>Once received, the documentation specialist will automatically be notified.</li> <li>We will review your suggested improvement(s) to make sure they are correct and fit within our documentation standards.</li> </ul> </li> </ol>"},{"location":"github/file_issue/#problems-in-the-hardware-design","title":"Problems in the Hardware Design","text":"<p>All of our designs are open-source! Please help us make it better.</p> <ul> <li>Our board design files are contained in the <code>Hardware</code> folder of the SparkFun GNSSDO repository.</li> </ul>"},{"location":"github/file_issue/#does-something-not-make-sense","title":"Does something not make sense? \ud83e\udd14","text":"<p>If part of the design is confusing, please open an issue and let us know.</p>"},{"location":"github/file_issue/#did-we-forget-to-include-an-important-function-of-the-board","title":"Did we forget to include an important function of the board? \ud83e\udd26","text":"<p>If part of the board's functionality is missing, please open an issue and file a feature request.</p> <p>Design Considerations</p> <p>Please keep in mind that we may intentionally exclude certain functions of the board to meet our product design requirements.</p> <ul> <li>For example, our Qwiic Micro boards are intended to fit on a small board layout and only use I<sup>2</sup>C communication; therefore, we may not have the SPI and interrupt pins available for users.</li> </ul>"},{"location":"github/file_issue/#do-you-wish-to-contribute-directly-to-improving-the-board-design","title":"Do you wish to contribute directly to improving the board design?","text":"<ol> <li>With a GitHub account, fork this repository.</li> <li>Add your design augmentation(s)</li> <li>File a pull request with your changes, and enjoy making the words worlds world a better place.<ol> <li>Once received, the engineer in charge of the original design will automatically be notified.</li> <li>We will review your suggested improvement(s) to verify that they are within our board design standards and meet our product design requirements.</li> <li> <p>If approved, we will flag these changes for our next board revision. Congrats! \ud83c\udf7b</p> <p>Info</p> <p>Even if your suggestion is accepted, these changes may not be immediately available for purchase. We may have to cycle through our current product inventory first.</p> </li> </ol> </li> </ol>"}]}